/*! For license information please see index.main.js.LICENSE.txt */
(()=>{"use strict";var t={344:()=>{},950:(t,e,n)=>{n.r(e)},947:(t,e,n)=>{n.r(e),n.d(e,{ArgumentOutOfRangeError:()=>wt,AsyncSubject:()=>it,BehaviorSubject:()=>P,ConnectableObservable:()=>N,EMPTY:()=>q,EmptyError:()=>_t,GroupedObservable:()=>M,NEVER:()=>ye,Notification:()=>Q,NotificationKind:()=>U,ObjectUnsubscribedError:()=>I,Observable:()=>S,ReplaySubject:()=>nt,Scheduler:()=>K,Subject:()=>L,Subscriber:()=>y,Subscription:()=>p,TimeoutError:()=>St,UnsubscriptionError:()=>d,VirtualAction:()=>gt,VirtualTimeScheduler:()=>vt,animationFrame:()=>yt,animationFrameScheduler:()=>bt,asap:()=>lt,asapScheduler:()=>ht,async:()=>pt,asyncScheduler:()=>dt,bindCallback:()=>Ot,bindNodeCallback:()=>At,combineLatest:()=>qt,concat:()=>ne,config:()=>u,defer:()=>re,empty:()=>V,forkJoin:()=>ie,from:()=>Wt,fromEvent:()=>se,fromEventPattern:()=>ce,generate:()=>ae,identity:()=>E,iif:()=>le,interval:()=>pe,isObservable:()=>Et,merge:()=>be,never:()=>ve,noop:()=>mt,observable:()=>m,of:()=>X,onErrorResumeNext:()=>ge,pairs:()=>me,partition:()=>Ie,pipe:()=>w,queue:()=>G,queueScheduler:()=>F,race:()=>Te,range:()=>Ce,scheduled:()=>Ut,throwError:()=>z,timer:()=>De,using:()=>ke,zip:()=>Me});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t){return"function"==typeof t}var s=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function c(t){setTimeout((function(){throw t}),0)}var a={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;c(t)},complete:function(){}},h=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function l(t){return null!==t&&"object"==typeof t}var d=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),p=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,s=n._unsubscribe,u=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var c=0;c<r.length;++c)r[c].remove(this);if(o(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(t){e=t instanceof d?f(t.errors):[t]}}if(h(u)){c=-1;for(var a=u.length;++c<a;){var p=u[c];if(l(p))try{p.unsubscribe()}catch(t){e=e||[],t instanceof d?e=e.concat(f(t.errors)):e.push(t)}}}if(e)throw new d(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function f(t){return t.reduce((function(t,e){return t.concat(e instanceof d?e.errors:e)}),[])}var b=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),y=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a;break;case 1:if(!n){o.destination=a;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new v(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new v(o,n,r,i)}return o}return i(e,t),e.prototype[b]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(p),v=function(t){function e(e,n,r,i){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return o(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==a&&(o((c=Object.create(n)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=i,u}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):c(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;c(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw t;c(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(c(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(y);function g(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof y?r:null}return!0}var m=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function E(t){return t}function w(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _(t)}function _(t){return 0===t.length?E:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var S=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof y)return t;if(t[b])return t[b]()}return t||e||n?new y(t,e,n):new y(a)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||u.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),u.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),g(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=x(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[m]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:_(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=x(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function x(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var I=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),T=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(p),O=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(y),L=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[b]=function(){return new O(this)},e.prototype.lift=function(t){var e=new C(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new I;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new I;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new I;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new I;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new I;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new T(this,t))},e.prototype.asObservable=function(){var t=new S;return t.source=this,t},e.create=function(t,e){return new C(t,e)},e}(S),C=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):p.EMPTY},e}(L),A=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new D(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),D=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(y),N=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new p).add(this.source.subscribe(new k(this.getSubject(),this))),t.closed&&(this._connection=null,t=p.EMPTY)),t},e.prototype.refCount=function(){return(t=this).lift(new A(t));var t},e}(S),k=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(O),M=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return i(e,t),e.prototype._subscribe=function(t){var e=new p,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new B(n)),e.add(r.subscribe(t)),e},e}(S),B=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(p),P=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(L),j=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(p)),R=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(j),K=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),H=function(t){function e(n,r){void 0===r&&(r=K.now);var i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(K),F=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(H))(R),G=F,q=new S((function(t){return t.complete()}));function V(t){return t?function(t){return new S((function(e){return t.schedule((function(){return e.complete()}))}))}(t):q}function Z(t){return t&&"function"==typeof t.schedule}var U,W=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function Y(t,e){return new S((function(n){var r=new p,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function $(t,e){return e?Y(t,e):new S(W(t))}function X(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Z(n)?(t.pop(),Y(t,n)):$(t)}function z(t,e){return new S(e?function(n){return e.schedule(J,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function J(t){var e=t.error;t.subscriber.error(e)}U||(U={});var Q=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return X(this.value);case"E":return z(this.error);case"C":return V()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),tt=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new et(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Q.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Q.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()},e}(y),et=function(){return function(t,e){this.notification=t,this.destination=e}}(),nt=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return i(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new rt(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new I;if(this.isStopped||this.hasError?e=p.EMPTY:(this.observers.push(t),e=new T(this,t)),i&&t.add(t=new tt(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||G).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(L),rt=function(){return function(t,e){this.time=t,this.value=e}}(),it=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return i(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),p.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),p.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(L),ot=1,st=function(){return Promise.resolve()}(),ut={};function ct(t){return t in ut&&(delete ut[t],!0)}var at=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=(i=e.flush.bind(e,null),o=ot++,ut[o]=!0,st.then((function(){return ct(o)&&i()})),o)));var i,o},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(ct(n),e.scheduled=void 0)},e}(j),ht=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(H))(at),lt=ht,dt=new H(j),pt=dt,ft=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(j),bt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(H))(ft),yt=bt,vt=function(t){function e(e,n){void 0===e&&(e=gt),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return i(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n[0])&&e.delay<=r&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(H),gt=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=r,i.active=!0,i.index=e.index=r,i}return i(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(j);function mt(){}function Et(t){return!!t&&(t instanceof S||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var wt=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),_t=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),St=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();function xt(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new It(t,e))}}var It=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Tt(t,this.project,this.thisArg))},t}(),Tt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(y);function Ot(t,e,n){if(e){if(!Z(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Ot(t,n).apply(void 0,r).pipe(xt((function(t){return h(t)?e.apply(void 0,t):e(t)})))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i,o=this,s={context:o,subject:i,callbackFunc:t,scheduler:n};return new S((function(r){if(n){var u={args:e,subscriber:r,params:s};return n.schedule(Lt,0,u)}if(!i){i=new it;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.next(t.length<=1?t[0]:t),i.complete()}]))}catch(t){g(i)?i.error(t):console.warn(t)}}return i.subscribe(r)}))}}function Lt(t){var e=this,n=t.args,r=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,u=i.scheduler,c=i.subject;if(!c){c=i.subject=new it;try{o.apply(s,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(u.schedule(Ct,0,{value:r,subject:c}))}]))}catch(t){c.error(t)}}this.add(c.subscribe(r))}function Ct(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function At(t,e,n){if(e){if(!Z(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return At(t,n).apply(void 0,r).pipe(xt((function(t){return h(t)?e.apply(void 0,t):e(t)})))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new S((function(r){var o=i.context,s=i.subject;if(n)return n.schedule(Dt,0,{params:i,subscriber:r,context:o});if(!s){s=i.subject=new it;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?s.error(n):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(t){g(s)?s.error(t):console.warn(t)}}return s.subscribe(r)}))}}function Dt(t){var e=this,n=t.params,r=t.subscriber,i=t.context,o=n.callbackFunc,s=n.args,u=n.scheduler,c=n.subject;if(!c){c=n.subject=new it;try{o.apply(i,s.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();if(r)e.add(u.schedule(kt,0,{err:r,subject:c}));else{var i=t.length<=1?t[0]:t;e.add(u.schedule(Nt,0,{value:i,subject:c}))}}]))}catch(t){this.add(u.schedule(kt,0,{err:t,subject:c}))}}this.add(c.subscribe(r))}function Nt(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function kt(t){var e=t.err;t.subject.error(e)}var Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(y),Bt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(y);function Pt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var jt=Pt(),Rt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Kt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Ht=function(t){if(t&&"function"==typeof t[m])return r=t,function(t){var e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Rt(t))return W(t);if(Kt(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,c),t};if(t&&"function"==typeof t[jt])return e=t,function(t){for(var n=e[jt]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=l(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Ft(t,e,n,r,i){if(void 0===i&&(i=new Bt(t,n,r)),!i.closed)return e instanceof S?e.subscribe(i):Ht(e)(i)}var Gt={};function qt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0,r=void 0;return Z(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&h(t[0])&&(t=t[0]),$(t,r).lift(new Vt(n))}var Vt=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Zt(t,this.resultSelector))},t}(),Zt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return i(e,t),e.prototype._next=function(t){this.values.push(Gt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Ft(this,r,void 0,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n){var r=this.values,i=r[n],o=this.toRespond?i===Gt?--this.toRespond:this.toRespond:0;r[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Mt);function Ut(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new S((function(n){var r=new p;return r.add(e.schedule((function(){var i=t[m]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Kt(t))return function(t,e){return new S((function(n){var r=new p;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Rt(t))return Y(t,e);if(function(t){return t&&"function"==typeof t[jt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new S((function(n){var r,i=new p;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[jt](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Wt(t,e){return e?Ut(t,e):t instanceof S?t:new S(Ht(t))}var Yt=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(y),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(y);function Xt(t,e){if(!e.closed){if(t instanceof S)return t.subscribe(e);var n;try{n=Ht(t)(e)}catch(t){e.error(t)}return n}}function zt(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(zt((function(n,r){return Wt(t(n,r)).pipe(xt((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new Jt(t,n))})}var Jt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Qt(t,this.project,this.concurrent))},t}(),Qt=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new Yt(this),n=this.destination;n.add(e);var r=Xt(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}($t);function te(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),zt(E,t)}function ee(){return te(1)}function ne(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ee()(X.apply(void 0,t))}function re(t){return new S((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Wt(n):V()).subscribe(e)}))}function ie(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(h(n))return oe(n,null);if(l(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return oe(r.map((function(t){return n[t]})),r)}}if("function"==typeof t[t.length-1]){var i=t.pop();return oe(t=1===t.length&&h(t[0])?t[0]:t,null).pipe(xt((function(t){return i.apply(void 0,t)})))}return oe(t,null)}function oe(t,e){return new S((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,u=function(u){var c=Wt(t[u]),a=!1;n.add(c.subscribe({next:function(t){a||(a=!0,s++),i[u]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&a||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},c=0;c<r;c++)u(c);else n.complete()}))}function se(t,e,n,r){return o(n)&&(r=n,n=void 0),r?se(t,e,n).pipe(xt((function(t){return h(t)?r.apply(void 0,t):r(t)}))):new S((function(r){ue(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}function ue(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,n,i),o=function(){return s.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var u=t;t.on(e,n),o=function(){return u.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var c=t;t.addListener(e,n),o=function(){return c.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var a=0,h=t.length;a<h;a++)ue(t[a],e,n,r,i)}r.add(o)}function ce(t,e,n){return n?ce(t,e).pipe(xt((function(t){return h(t)?n.apply(void 0,t):n(t)}))):new S((function(n){var r,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(i)}catch(t){return void n.error(t)}if(o(e))return function(){return e(i,r)}}))}function ae(t,e,n,r,i){var o,s;if(1==arguments.length){var u=t;s=u.initialState,e=u.condition,n=u.iterate,o=u.resultSelector||E,i=u.scheduler}else void 0===r||Z(r)?(s=t,o=E,i=r):(s=t,o=r);return new S((function(t){var r=s;if(i)return i.schedule(he,0,{subscriber:t,iterate:n,condition:e,resultSelector:o,state:r});for(;;){if(e){var u=void 0;try{u=e(r)}catch(e){return void t.error(e)}if(!u){t.complete();break}}var c=void 0;try{c=o(r)}catch(e){return void t.error(e)}if(t.next(c),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}}))}function he(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function le(t,e,n){return void 0===e&&(e=q),void 0===n&&(n=q),re((function(){return t()?e:n}))}function de(t){return!h(t)&&t-parseFloat(t)+1>=0}function pe(t,e){return void 0===t&&(t=0),void 0===e&&(e=pt),(!de(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=pt),new S((function(n){return n.add(e.schedule(fe,t,{subscriber:n,counter:0,period:t})),n}))}function fe(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function be(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return Z(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof S?t[0]:te(n)($(t,r))}var ye=new S(mt);function ve(){return ye}function ge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return q;var n=t[0],r=t.slice(1);return 1===t.length&&h(n)?ge.apply(void 0,n):new S((function(t){var e=function(){return t.add(ge.apply(void 0,r).subscribe(t))};return Wt(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})}))}function me(t,e){return new S(e?function(n){var r=Object.keys(t),i=new p;return i.add(e.schedule(Ee,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function Ee(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,o=t.obj;if(!r.closed)if(n<e.length){var s=e[n];r.next([s,o[s]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function we(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function _e(t,e){return function(n){return n.lift(new Se(t,e))}}var Se=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new xe(t,this.predicate,this.thisArg))},t}(),xe=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(y);function Ie(t,e,n){return[_e(e,n)(new S(Ht(t))),_e(we(e,n))(new S(Ht(t)))]}function Te(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!h(t[0]))return t[0];t=t[0]}return $(t,void 0).lift(new Oe)}var Oe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Le(t))},t}(),Le=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=Ft(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},e.prototype.notifyNext=function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)},e}(Mt);function Ce(t,e,n){return void 0===t&&(t=0),new S((function(r){void 0===e&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(Ae,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}}))}function Ae(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}function De(t,e,n){void 0===t&&(t=0);var r=-1;return de(e)?r=Number(e)<1?1:Number(e):Z(e)&&(n=e),Z(n)||(n=pt),new S((function(e){var i=de(t)?t:+t-n.now();return n.schedule(Ne,i,{index:0,period:r,subscriber:e})}))}function Ne(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function ke(t,e){return new S((function(n){var r,i;try{r=t()}catch(t){return void n.error(t)}try{i=e(r)}catch(t){return void n.error(t)}var o=(i?Wt(i):q).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}function Me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),$(t,void 0).lift(new Be(n))}var Be=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Pe(t,this.resultSelector))},t}(),Pe=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return i(e,t),e.prototype._next=function(t){var e=this.iterators;h(t)?e.push(new Re(t)):"function"==typeof t[jt]?e.push(new je(t[jt]())):e.push(new Ke(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++)if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(r=0;r<e;r++){var s,u=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),u.done)return void n.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(y),je=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),Re=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[jt]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Ke=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return i(e,t),e.prototype[jt]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return Xt(this.observable,new Yt(this))},e}($t)},601:(t,e)=>{var n,r,i,o;Object.defineProperty(e,"__esModule",{value:!0}),e.selectedSnakeKeyMap=e.directionKeyMap=e.Direction=e.Color=e.MAX_SNAKES_COUNT=e.SNAKES=e.DEFAULT_GAME_CONFIG=e.SnakeType=e.GameOver=e.INIT_SNAKE_SIZE=e.FRAME_RATE=e.BLOCK_SIZE=e.BOARD_HEIGHT=e.BOARD_WIDTH=void 0,e.BOARD_WIDTH=50,e.BOARD_HEIGHT=25,e.BLOCK_SIZE=20,e.FRAME_RATE=10,e.INIT_SNAKE_SIZE=5,(o=e.GameOver||(e.GameOver={}))[o.HIT_SELF=1]="HIT_SELF",o[o.HIT_WALL=2]="HIT_WALL",function(t){t.VIPER="Viper",t.MAMBA="Mamba",t.DISPHOLIDUS="Dispholidus",t.ANACONDA="Anaconda",t.PYTHON="Python",t.ANILIUS="Anilius"}(n=e.SnakeType||(e.SnakeType={})),e.DEFAULT_GAME_CONFIG={snakeType:n.VIPER,snakeCount:2},e.SNAKES=[{type:n.VIPER,pattern:["blue","grey"]},{type:n.MAMBA,pattern:["green"]},{type:n.DISPHOLIDUS,pattern:["red","blue","red"]},{type:n.ANACONDA,pattern:["yellow","grey"]},{type:n.PYTHON,pattern:["grey","darkgrey"]},{type:n.ANILIUS,pattern:["pink","blue","orange","pink"]}],e.MAX_SNAKES_COUNT=5,(i=e.Color||(e.Color={})).GRID="rgb(38, 38, 38)",i.SNAKE_HEAD="white",i.SNAKE_HEAD_SELECTED="red",i.SNAKE_HEAD_TEXT="black",i.SNAKE_HEAD_TEXT_SELECTED="white",i.FOOD="lightgreen",i.WALL="red",function(t){t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT"}(r=e.Direction||(e.Direction={})),e.directionKeyMap=new Map,e.directionKeyMap.set("ArrowLeft",r.LEFT),e.directionKeyMap.set("ArrowUp",r.UP),e.directionKeyMap.set("ArrowRight",r.RIGHT),e.directionKeyMap.set("ArrowDown",r.DOWN),e.selectedSnakeKeyMap=new Map,e.selectedSnakeKeyMap.set("Digit1",1),e.selectedSnakeKeyMap.set("Digit2",2),e.selectedSnakeKeyMap.set("Digit3",3),e.selectedSnakeKeyMap.set("Digit4",4),e.selectedSnakeKeyMap.set("Digit5",5)},40:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Board=void 0;const r=n(947),i=n(601),o=n(382);e.Board=class{constructor(t,e){this.selectedSnake=0,this.food=[],this.wall=[],this._snakeCount=i.DEFAULT_GAME_CONFIG.snakeCount,this._snakeType=i.DEFAULT_GAME_CONFIG.snakeType,this.deathReason$=new r.ReplaySubject(1),this.bounds={x:t,y:e}}get width(){return this.bounds.x}get height(){return this.bounds.y}get snakeCount(){return this._snakeCount}get snakeType(){return this._snakeType}setSnakeType(t){this._snakeType=t}setSnakeCount(t){this._snakeCount=t}resetBoard(){this.wall=[],this.deathReason$.next(null)}canProceed(){for(let t=0;t<this.snakes.length;t++){const e=this.snakes[t],n=this.bumpToWall(e.newHead),r=this.bumpToSnake(e.newHead);if(n)return this.deathReason$.next(i.GameOver.HIT_WALL),!1;if(r)return this.deathReason$.next(i.GameOver.HIT_SELF),!1}return!0}bumpToSnake(t){return this.snakes.some((e=>e.sequence.some((e=>e.x===t.x&&e.y===t.y))))}bumpToWall(t){const e=t.x<0||t.y<0||t.x>=this.bounds.x||t.y>=this.bounds.y,n=this.wall.find((({x:e,y:n})=>e===t.x&&n===t.y));return e||!!n}setWalls(t,e){const n={x:t,y:e},r=!this.wall.find((n=>n.x===t&&n.y===e)),i=!this.snakes.find((n=>n.sequence.find((n=>n.x===t&&n.y===e))));r&&i&&this.wall.push(n)}removeWalls(t,e){const n=this.wall.findIndex((n=>n.x===t&&n.y===e));n>=0&&this.wall.splice(n,1)}tick(){for(let t=0;t<this.snakes.length;t++){const e=this.snakes[t];e.step();const n=this.food.findIndex((t=>t.x===e.newHead.x&&t.y===e.newHead.y));if(n>=0)return e.grow(),this.food.splice(n,1),this.food.push(o.getRandomCoords(this.bounds,[])),!0}return!1}}},188:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Page=void 0;const r=n(601),i=n(601),o=n(382),s=n(773),u=n(40),c=n(239);e.Page=class{constructor(t){this.eatCount=0,this.dialog=new s.Dialog,this.foodInfo=document.querySelector(".food"),this.wallInfo=document.querySelector(".wall"),this.gameOverContainer=document.querySelector(".gameover"),this.isGamePlaying=!1,this.onKeyDown=t=>{const e=r.directionKeyMap.get(t.code);e&&this.board.snakes.find(((t,e)=>e===this.board.selectedSnake)).setDirection(e);const n=r.selectedSnakeKeyMap.get(t.code);n&&(this.board.selectedSnake=n-1)},this.board=new u.Board(r.BOARD_WIDTH,r.BOARD_HEIGHT),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.drawGrid()}startGame(){this.board.resetBoard();const t=[],e=[];for(let n=0;n<this.board.snakeCount;n++){const r=o.getStartingCoords(this.board.snakeCount,n);t.push(new c.Snake(r));const i=o.getRandomCoords(this.board.bounds,[]);e.push(i)}this.board.snakes=t,this.board.food=e,this.render(),this.isGamePlaying=!0}stopGame(){cancelAnimationFrame(this.intervalId.value),this.board.deathReason$.pipe().subscribe((t=>{t&&this.dialog.setDialogState(s.DialogState.GAME_OVER,this.getGameOverMessage(t))}))}pauseGame(t=!0){t?cancelAnimationFrame(this.intervalId.value):this.render(),this.isGamePlaying=!this.isGamePlaying}render(t=!1){this.intervalId=o.requestInterval((()=>{this.board.canProceed()?(this.drawAll(),t||this.board.tick()&&(this.eatCount++,this.foodInfo.innerText=this.eatCount.toString())):this.stopGame()}),500,(()=>this.drawAll()))}drawAll(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawGrid(),this.drawWall(),this.drawFood(),this.board.snakes.forEach(((t,e)=>{this.drawSnake(t,e)})),this.wallInfo.innerText=this.board.wall.length.toString()}drawGrid(){this.ctx.beginPath(),this.ctx.strokeStyle=r.Color.GRID;for(let t=0;t<=this.board.width;t++)this.ctx.moveTo(t*(r.BLOCK_SIZE+1)+1,0),this.ctx.lineTo(t*(r.BLOCK_SIZE+1)+1,(r.BLOCK_SIZE+1)*this.board.height+1);for(let t=0;t<=this.board.height;t++)this.ctx.moveTo(0,t*(r.BLOCK_SIZE+1)+1),this.ctx.lineTo((r.BLOCK_SIZE+1)*this.board.width+1,t*(r.BLOCK_SIZE+1)+1);this.ctx.stroke()}drawWall(){this.ctx.beginPath(),this.ctx.strokeStyle=r.Color.WALL,this.board.wall.forEach((t=>{this.ctx.lineWidth=7,this.ctx.moveTo(t.x*(r.BLOCK_SIZE+1)+1,t.y*(r.BLOCK_SIZE+1)+1),this.ctx.lineTo(t.x*(r.BLOCK_SIZE+1)+1+r.BLOCK_SIZE,t.y*(r.BLOCK_SIZE+1)+1+r.BLOCK_SIZE),this.ctx.moveTo(t.x*(r.BLOCK_SIZE+1)+1,t.y*(r.BLOCK_SIZE+1)+r.BLOCK_SIZE+1),this.ctx.lineTo(t.x*(r.BLOCK_SIZE+1)+1+r.BLOCK_SIZE,t.y*(r.BLOCK_SIZE+1)+1)})),this.ctx.stroke(),this.ctx.lineWidth=1}drawSnake(t,e){const{x:n,y:s}=t.head,u=e===this.board.selectedSnake,c=i.SNAKES.find((t=>t.type===this.board.snakeType)).pattern,a=o.getFullPattern(c,t.sequence.length);t.sequence.forEach(((t,e)=>{this.ctx.fillStyle=a[e],this.ctx.fillRect(t.x*(r.BLOCK_SIZE+1)+1,t.y*(r.BLOCK_SIZE+1)+1,r.BLOCK_SIZE,r.BLOCK_SIZE)})),this.ctx.fillStyle=u?r.Color.SNAKE_HEAD_SELECTED:r.Color.SNAKE_HEAD,this.ctx.fillRect(n*(r.BLOCK_SIZE+1)+1,s*(r.BLOCK_SIZE+1)+1,r.BLOCK_SIZE,r.BLOCK_SIZE),this.ctx.fillStyle=u?r.Color.SNAKE_HEAD_TEXT_SELECTED:r.Color.SNAKE_HEAD_TEXT,this.ctx.font='23px "VT323"',this.ctx.fillText((e+1).toString(),n*(r.BLOCK_SIZE+1)+2+4,(s+1)*(r.BLOCK_SIZE+1)+1-4)}drawFood(){this.ctx.beginPath(),this.ctx.fillStyle=r.Color.FOOD,this.board.food.forEach((t=>{const e=t.x*(r.BLOCK_SIZE+1)+1+r.BLOCK_SIZE/2,n=t.y*(r.BLOCK_SIZE+1)+1+r.BLOCK_SIZE/2;this.ctx.arc(e,n,r.BLOCK_SIZE/2,0,2*Math.PI,!1),this.ctx.fill(),this.ctx.closePath()}))}getGameOverMessage(t){switch(t){case r.GameOver.HIT_SELF:return"You have hit yourself.";case r.GameOver.HIT_WALL:return"You have hit a wall.";default:return"Maybe you cannot handle this."}}}},239:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Snake=void 0;const r=n(601),i=n(382);e.Snake=class{constructor(t){this.sequence=[],this.direction=r.Direction.RIGHT;let e=r.INIT_SNAKE_SIZE;for(this.sequence.push(t);e>0;){const t=i.getNextCoords(this.sequence[this.sequence.length-1],r.Direction.LEFT);this.sequence.push(t),e--}}get head(){return this.sequence[0]}get newHead(){return i.getNextCoords(this.sequence[0],this.direction)}setDirection(t){i.isDirectionOpposite(t,this.direction)||(this.direction=t)}grow(){const t=i.getNextCoords(this.sequence[this.sequence.length-1],this.direction);this.sequence.push(t)}step(){this.sequence.pop(),this.sequence.unshift(this.newHead)}}},382:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFullPattern=e.requestInterval=e.isDirectionOpposite=e.getNextCoords=e.getRandomCoords=e.getStartingCoords=void 0;const r=n(601);e.getStartingCoords=function(t,e){return{x:Math.floor(r.BOARD_WIDTH/(t+1)*(e+1)),y:Math.floor(r.BOARD_HEIGHT/(t+1)*(e+1))}},e.getRandomCoords=function(t,e){let n={x:Math.floor(Math.random()*t.x),y:Math.floor(Math.random()*t.y)};for(;e.find((t=>t.x===n.x&&t.y===n.y));)n={x:Math.floor(Math.random()*t.x),y:Math.floor(Math.random()*t.y)};return n},e.getNextCoords=function(t,e){switch(e){case r.Direction.UP:return Object.assign(Object.assign({},t),{y:t.y-1});case r.Direction.DOWN:return Object.assign(Object.assign({},t),{y:t.y+1});case r.Direction.LEFT:return Object.assign(Object.assign({},t),{x:t.x-1});case r.Direction.RIGHT:default:return Object.assign(Object.assign({},t),{x:t.x+1})}};const i={[r.Direction.UP]:r.Direction.DOWN,[r.Direction.DOWN]:r.Direction.UP,[r.Direction.LEFT]:r.Direction.RIGHT,[r.Direction.RIGHT]:r.Direction.LEFT};e.isDirectionOpposite=function(t,e){return i[t]===e},e.requestInterval=function(t,e,n){let r=(new Date).getTime();const i={value:0};return i.value=window.requestAnimationFrame((function o(){console.log("[DEV] loop"),i.value=window.requestAnimationFrame(o);const s=(new Date).getTime()-r;n&&n.call(),s>=e&&(t.call(),r=(new Date).getTime())})),i},e.getFullPattern=function(t,e){let n=[];for(let r=0;r<e;r++)n.push(t[r%t.length]);return n}},607:(t,e,n)=>{n(950);const r=n(601),i=n(188),o=n(773);var s;!function(t){t.COUNT_CONTAINER="count-container",t.SELECTED="selected"}(s||(s={})),new class{constructor(){this.isDebugMode=this.getDebugMode(),this.canvas=document.querySelector("canvas"),this.page=new i.Page(this.canvas),this.dialog=this.page.dialog,this.restartButton=document.querySelector("button.restart"),this.pauseButton=document.querySelector("button.pause"),this.pencilButton=document.querySelector("button.pencil"),this.eraserButton=document.querySelector("button.eraser"),this.shouldRecord=!1,this.mouseDownListener=t=>{"CANVAS"===t.target.tagName&&(this.shouldRecord=!0,document.body.style.cursor="crosshair",this.page.isGamePlaying||this.page.render(!0))},this.mouseUpListener=t=>{"CANVAS"===t.target.tagName&&(this.shouldRecord=!1,document.body.style.cursor="default",this.page.isGamePlaying||cancelAnimationFrame(this.page.intervalId.value))},this.pencilMouseMoveListener=t=>{if(!this.shouldRecord)return;const[e,n]=this.getNormalisedXY(t);this.page.board.setWalls(e,n)},this.eraserMouseMoveListener=t=>{if(!this.shouldRecord)return;const[e,n]=this.getNormalisedXY(t);this.page.board.removeWalls(e,n)},this.initCanvas(),this.addListeners(),this.updateSelectedConfig(),this.enableDebugMode()}enableDebugMode(){if(!this.isDebugMode)return;console.log("[DEV] enableDebugMode");const t=document.createElement("div");t.classList.add("debug");for(let e=0;e<r.BOARD_WIDTH;e++){const n=document.createElement("span");n.innerText=String(e+1),t.appendChild(n)}document.querySelector(".container").prepend(t)}getDebugMode(){var t=new URL(window.location.href);return new URLSearchParams(t.search).get("debug")}initCanvas(){this.canvas.height=(r.BLOCK_SIZE+1)*r.BOARD_HEIGHT+1,this.canvas.width=(r.BLOCK_SIZE+1)*r.BOARD_WIDTH+1}updateSelectedConfig(){this.dialog.countButtons.forEach((t=>{this.page.board.snakeCount===Number(t.dataset.count)?t.classList.add(`${s.SELECTED}`):t.classList.remove(`${s.SELECTED}`)})),this.dialog.typeButtons.forEach((t=>{this.page.board.snakeType===t.dataset.type?t.classList.add(`${s.SELECTED}`):t.classList.remove(`${s.SELECTED}`)}))}addShouldRecordListeners(){window.addEventListener("mousedown",this.mouseDownListener),window.addEventListener("mouseup",this.mouseUpListener)}removeMouseUpDownListners(){window.removeEventListener("mousedown",this.mouseDownListener),window.removeEventListener("mouseup",this.mouseUpListener),window.removeEventListener("mousemove",this.pencilMouseMoveListener),window.removeEventListener("mousemove",this.eraserMouseMoveListener)}getNormalisedXY(t){const{pageX:e,pageY:n}=t,{left:i,top:o}=this.canvas.getBoundingClientRect(),s=e-i,u=n-o;return[Math.floor(s/(r.BLOCK_SIZE+1)),Math.floor(u/(r.BLOCK_SIZE+1))]}addListeners(){this.dialog.countButtons.forEach((t=>{t.addEventListener("click",(()=>{this.page.board.setSnakeCount(Number(t.dataset.count)),this.updateSelectedConfig()}))})),this.dialog.typeButtons.forEach((t=>{t.addEventListener("click",(()=>{this.page.board.setSnakeType(t.dataset.type),this.updateSelectedConfig()}))})),this.dialog.startButton.addEventListener("click",(t=>{t.target.classList.add("selected"),this.page.startGame(),setTimeout((()=>{this.dialog.setDialogState(o.DialogState.HIDDEN)}),200)})),this.restartButton.addEventListener("click",(t=>{[...document.querySelectorAll("button")].forEach((t=>{console.log("button",t)})),t.target.classList.add("selected"),this.dialog.startButton.classList.remove("selected"),this.pencilButton.classList.remove("selected"),this.eraserButton.classList.remove("selected"),setTimeout((()=>{this.restartButton.classList.remove("selected"),this.page.board.resetBoard(),this.page.dialog.setDialogState(o.DialogState.GAME_CONFIG)}),200)})),this.pauseButton.addEventListener("click",(t=>{const e="Pause"===this.pauseButton.innerText;this.page.pauseGame(e),this.flipPauseButtons(e,t.target)})),this.pencilButton.addEventListener("click",(t=>{this.removeMouseUpDownListners(),t.target.classList.toggle("selected"),this.eraserButton.classList.contains("selected")&&this.eraserButton.classList.remove("selected"),this.addShouldRecordListeners(),window.addEventListener("mousemove",this.pencilMouseMoveListener)})),this.eraserButton.addEventListener("click",(t=>{this.removeMouseUpDownListners(),t.target.classList.toggle("selected"),this.pencilButton.classList.contains("selected")&&this.pencilButton.classList.remove("selected"),this.addShouldRecordListeners(),window.addEventListener("mousemove",this.eraserMouseMoveListener)})),window.addEventListener("keydown",(t=>this.page.onKeyDown(t)))}flipPauseButtons(t=!0,e){const n=t?"Resume":"Pause";e.classList.add("selected"),setTimeout((()=>{this.pauseButton.innerText=n,this.pauseButton.classList.toggle("pause"),this.pauseButton.classList.toggle("resume"),t||(this.pencilButton.classList.remove("selected"),this.eraserButton.classList.remove("selected")),setTimeout((()=>{e.classList.remove("selected")}),100)}),200)}}},773:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Dialog=e.DialogState=void 0;const r=n(947),i=n(601),o=n(382);var s;!function(t){t[t.GAME_CONFIG=1]="GAME_CONFIG",t[t.HIDDEN=2]="HIDDEN",t[t.GAME_OVER=3]="GAME_OVER"}(s=e.DialogState||(e.DialogState={})),e.Dialog=class{constructor(){this.dialogState$=new r.BehaviorSubject(s.GAME_CONFIG),this.dialogElement=document.getElementById("dialog"),this.dialogElement.innerHTML=this.getTemplate(),this.startButton=this.dialogElement.querySelector("button.start"),this.countButtons=[...this.dialogElement.querySelectorAll("button.count")],this.typeButtons=[...this.dialogElement.querySelectorAll("button.type")],this.dialogState$.subscribe((t=>{switch(t){case s.HIDDEN:return this.dialogElement.classList.add("transition"),void this.dialogElement.classList.add("hide");case s.GAME_CONFIG:return this.dialogElement.classList.remove("hide"),void this.dialogElement.classList.remove("gameover");case s.GAME_OVER:return this.dialogElement.classList.remove("hide"),void this.dialogElement.classList.add("gameover");default:return}}))}setDialogState(t,e=""){e&&(document.querySelector(".message").innerText=e),this.dialogState$.next(t)}getSnakesTemplate(){return`\n        ${i.SNAKES.map((t=>{const e=o.getFullPattern(t.pattern,8),n=[0,1,2,3,4,5,6,7].map((t=>`<span class="section" style="background: ${e[t]}"></span>`)).join("");return`<button class="type" data-type="${t.type}">\n              <div class="body">\n                ${n}\n              </div>\n              <h5 class="name">${t.type}</h5>\n            </button>`})).join("")}\n      `}getTemplate(){return`\n      <div class="gameover-container">\n        <h1>* Game over *</h1>\n        <p class="message"></p>\n        <button class="restart">Restart</button>\n      </div>\n      <div class="config-container">\n        <div class="type-container">\n          <h1 class="subheader">Choose your snakes</h1>\n          <div>\n            <div class="pad"></div>\n            <div class="scroller">\n              ${this.getSnakesTemplate()}\n            </div>\n          </div>\n        </div>\n\n        <div class="count-container">\n        <h1 class="subheader">How many snakes can you handle?</h1>\n          <div>\n            <button class="count" data-count="1" type="button"> 1</button>\n            <button class="count" data-count="2" type="button"> 2</button>\n            <button class="count" data-count="3" type="button"> 3</button>\n            <button class="count" data-count="4" type="button"> 4</button>\n            <button class="count" data-count="5" type="button"> 5</button>\n          </div>\n        </div>\n        <button class="start" type="button">Start game</button>\n      </div>\n    `}}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(607),n(344)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9jb25maWcuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2hvc3RSZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5LmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc09iamVjdC5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvcGlwZS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3RvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJqZWN0U3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3ViamVjdC5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9yZWZDb3VudC5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2dyb3VwQnkuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQWN0aW9uLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL1F1ZXVlQWN0aW9uLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL3F1ZXVlLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL1F1ZXVlU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9Ob3RpZmljYXRpb24uanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUFycmF5LmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvdGhyb3dFcnJvci5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9vYnNlcnZlT24uanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9SZXBsYXlTdWJqZWN0LmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvQXN5bmNTdWJqZWN0LmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9JbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXNhcEFjdGlvbi5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9hc2FwLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzYXBTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQW5pbWF0aW9uRnJhbWVBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvYW5pbWF0aW9uRnJhbWUuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvVmlydHVhbFRpbWVTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL0VtcHR5RXJyb3IuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1RpbWVvdXRFcnJvci5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tYXAuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmRDYWxsYmFjay5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvYmluZE5vZGVDYWxsYmFjay5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL091dGVyU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL0lubmVyU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG8uanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9Qcm9taXNlLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdC5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvY29tYmluZUxhdGVzdC5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUl0ZXJhYmxlLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvaW5uZXJTdWJzY3JpYmUuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXAuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VBbGwuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0QWxsLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb25jYXQuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2RlZmVyLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mb3JrSm9pbi5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnRQYXR0ZXJuLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9nZW5lcmF0ZS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvaWlmLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc051bWVyaWMuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2ludGVydmFsLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9tZXJnZS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvbmV2ZXIuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL29uRXJyb3JSZXN1bWVOZXh0LmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9wYWlycy5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvbm90LmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvcGFydGl0aW9uLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9yYWNlLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9yYW5nZS5qcyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvdGltZXIuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3VzaW5nLmpzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAuanMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9zcmMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vc3JjL2dhbWUvYm9hcmQudHMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9zcmMvZ2FtZS9nYW1lLnRzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlLy4vc3JjL2dhbWUvc25ha2UudHMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2UvLi9zcmMvaGVscGVycy50cyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS8uL3NyYy91aS9kaWFsb2cudHMiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2Uvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RzLW11bHRpLXNuYWtlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdHMtbXVsdGktc25ha2Uvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly90cy1tdWx0aS1zbmFrZS93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fZXh0ZW5kcyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiaXNGdW5jdGlvbiIsIngiLCJfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MiLCJjb25maWciLCJQcm9taXNlIiwidW5kZWZpbmVkIiwidmFsdWUiLCJFcnJvciIsInN0YWNrIiwiaG9zdFJlcG9ydEVycm9yIiwiZXJyIiwic2V0VGltZW91dCIsImVtcHR5IiwiY2xvc2VkIiwibmV4dCIsImVycm9yIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsImNvbXBsZXRlIiwiaXNBcnJheSIsImxlbmd0aCIsImlzT2JqZWN0IiwiVW5zdWJzY3JpcHRpb25FcnJvciIsIlVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsIiwiZXJyb3JzIiwiY2FsbCIsIm1lc3NhZ2UiLCJtYXAiLCJpIiwidG9TdHJpbmciLCJqb2luIiwibmFtZSIsIlN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlIiwiX3BhcmVudE9yUGFyZW50cyIsIl9zdWJzY3JpcHRpb25zIiwiX2N0b3JVbnN1YnNjcmliZSIsIl91bnN1YnNjcmliZSIsIl9hIiwicmVtb3ZlIiwiaW5kZXgiLCJlIiwiZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzIiwibGVuIiwic3ViIiwiY29uY2F0IiwicHVzaCIsImFkZCIsInRlYXJkb3duIiwic3Vic2NyaXB0aW9uIiwiRU1QVFkiLCJ0bXAiLCJpbmRleE9mIiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmlwdGlvbkluZGV4Iiwic3BsaWNlIiwicmVkdWNlIiwiZXJycyIsInJ4U3Vic2NyaWJlciIsIlN5bWJvbCIsIk1hdGgiLCJyYW5kb20iLCJTdWJzY3JpYmVyIiwiX3N1cGVyIiwiZGVzdGluYXRpb25Pck5leHQiLCJfdGhpcyIsInN5bmNFcnJvclZhbHVlIiwic3luY0Vycm9yVGhyb3duIiwic3luY0Vycm9yVGhyb3dhYmxlIiwiaXNTdG9wcGVkIiwiYXJndW1lbnRzIiwiZGVzdGluYXRpb24iLCJTYWZlU3Vic2NyaWJlciIsInN1YnNjcmliZXIiLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl91bnN1YnNjcmliZUFuZFJlY3ljbGUiLCJfcGFyZW50U3Vic2NyaWJlciIsIm9ic2VydmVyT3JOZXh0IiwiY29udGV4dCIsImJpbmQiLCJfY29udGV4dCIsIl9fdHJ5T3JTZXRFcnJvciIsIl9fdHJ5T3JVbnN1YiIsIndyYXBwZWRDb21wbGV0ZSIsImZuIiwicGFyZW50IiwiY2FuUmVwb3J0RXJyb3IiLCJvYnNlcnZlciIsImNsb3NlZF8xIiwib2JzZXJ2YWJsZSIsImlkZW50aXR5IiwicGlwZSIsImZucyIsIl9pIiwicGlwZUZyb21BcnJheSIsImlucHV0IiwicHJldiIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfaXNTY2FsYXIiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic291cmNlIiwic2luayIsIm5leHRPck9ic2VydmVyIiwidG9TdWJzY3JpYmVyIiwiX3RyeVN1YnNjcmliZSIsImNvbnNvbGUiLCJ3YXJuIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJyZXNvbHZlIiwicmVqZWN0Iiwib3BlcmF0aW9ucyIsInRvUHJvbWlzZSIsIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yIiwiT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsIiwiU3ViamVjdFN1YnNjcmlwdGlvbiIsInN1YmplY3QiLCJvYnNlcnZlcnMiLCJzdWJzY3JpYmVySW5kZXgiLCJTdWJqZWN0U3Vic2NyaWJlciIsIlN1YmplY3QiLCJoYXNFcnJvciIsInRocm93bkVycm9yIiwiQW5vbnltb3VzU3ViamVjdCIsImNvcHkiLCJzbGljZSIsImFzT2JzZXJ2YWJsZSIsIlJlZkNvdW50T3BlcmF0b3IiLCJjb25uZWN0YWJsZSIsIl9yZWZDb3VudCIsInJlZkNvdW50ZXIiLCJSZWZDb3VudFN1YnNjcmliZXIiLCJjb25uZWN0aW9uIiwiY29ubmVjdCIsInJlZkNvdW50Iiwic2hhcmVkQ29ubmVjdGlvbiIsIl9jb25uZWN0aW9uIiwiQ29ubmVjdGFibGVPYnNlcnZhYmxlIiwic3ViamVjdEZhY3RvcnkiLCJfaXNDb21wbGV0ZSIsImdldFN1YmplY3QiLCJfc3ViamVjdCIsIkNvbm5lY3RhYmxlU3Vic2NyaWJlciIsIkdyb3VwZWRPYnNlcnZhYmxlIiwia2V5IiwiZ3JvdXBTdWJqZWN0IiwicmVmQ291bnRTdWJzY3JpcHRpb24iLCJJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uIiwiY291bnQiLCJhdHRlbXB0ZWRUb1Vuc3Vic2NyaWJlIiwiQmVoYXZpb3JTdWJqZWN0IiwiX3ZhbHVlIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJnZXRWYWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJBc3luY0FjdGlvbiIsInNjaGVkdWxlciIsIndvcmsiLCJwZW5kaW5nIiwic2NoZWR1bGUiLCJzdGF0ZSIsImRlbGF5IiwiaWQiLCJyZWN5Y2xlQXN5bmNJZCIsInJlcXVlc3RBc3luY0lkIiwic2V0SW50ZXJ2YWwiLCJmbHVzaCIsImNsZWFySW50ZXJ2YWwiLCJleGVjdXRlIiwiX2V4ZWN1dGUiLCJlcnJvcmVkIiwiZXJyb3JWYWx1ZSIsImFjdGlvbnMiLCJBY3Rpb24iLCJRdWV1ZUFjdGlvbiIsIlNjaGVkdWxlciIsIlNjaGVkdWxlckFjdGlvbiIsIm5vdyIsIkRhdGUiLCJBc3luY1NjaGVkdWxlciIsImRlbGVnYXRlIiwiYWN0aXZlIiwic2NoZWR1bGVkIiwiYWN0aW9uIiwic2hpZnQiLCJxdWV1ZVNjaGVkdWxlciIsIlF1ZXVlU2NoZWR1bGVyIiwiYXBwbHkiLCJxdWV1ZSIsImVtcHR5U2NoZWR1bGVkIiwiaXNTY2hlZHVsZXIiLCJOb3RpZmljYXRpb25LaW5kIiwic3Vic2NyaWJlVG9BcnJheSIsImFycmF5Iiwic2NoZWR1bGVBcnJheSIsImZyb21BcnJheSIsIm9mIiwiYXJncyIsInBvcCIsInRocm93RXJyb3IiLCJkaXNwYXRjaCIsIk5vdGlmaWNhdGlvbiIsImtpbmQiLCJoYXNWYWx1ZSIsIm9ic2VydmUiLCJkbyIsImFjY2VwdCIsInRvT2JzZXJ2YWJsZSIsImNyZWF0ZU5leHQiLCJ1bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbiIsImNyZWF0ZUVycm9yIiwiY3JlYXRlQ29tcGxldGUiLCJjb21wbGV0ZU5vdGlmaWNhdGlvbiIsIk9ic2VydmVPblN1YnNjcmliZXIiLCJhcmciLCJub3RpZmljYXRpb24iLCJzY2hlZHVsZU1lc3NhZ2UiLCJPYnNlcnZlT25NZXNzYWdlIiwiUmVwbGF5U3ViamVjdCIsImJ1ZmZlclNpemUiLCJ3aW5kb3dUaW1lIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJfZXZlbnRzIiwiX2luZmluaXRlVGltZVdpbmRvdyIsIl9idWZmZXJTaXplIiwiX3dpbmRvd1RpbWUiLCJuZXh0SW5maW5pdGVUaW1lV2luZG93IiwibmV4dFRpbWVXaW5kb3ciLCJSZXBsYXlFdmVudCIsIl9nZXROb3ciLCJfdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMiLCJldmVudHNDb3VudCIsInNwbGljZUNvdW50IiwidGltZSIsIm1heCIsIkFzeW5jU3ViamVjdCIsImhhc05leHQiLCJoYXNDb21wbGV0ZWQiLCJuZXh0SGFuZGxlIiwiUkVTT0xWRUQiLCJhY3RpdmVIYW5kbGVzIiwiZmluZEFuZENsZWFySGFuZGxlIiwiaGFuZGxlIiwiQXNhcEFjdGlvbiIsImNiIiwidGhlbiIsImFzYXBTY2hlZHVsZXIiLCJBc2FwU2NoZWR1bGVyIiwiYXNhcCIsImFzeW5jU2NoZWR1bGVyIiwiQW5pbWF0aW9uRnJhbWVBY3Rpb24iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIiwiQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIiLCJhbmltYXRpb25GcmFtZSIsIlZpcnR1YWxUaW1lU2NoZWR1bGVyIiwibWF4RnJhbWVzIiwiVmlydHVhbEFjdGlvbiIsImZyYW1lIiwiZnJhbWVUaW1lRmFjdG9yIiwic29ydCIsInNvcnRBY3Rpb25zIiwiYSIsIm5vb3AiLCJpc09ic2VydmFibGUiLCJvYmoiLCJBcmd1bWVudE91dE9mUmFuZ2VFcnJvciIsIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCIsIkVtcHR5RXJyb3IiLCJFbXB0eUVycm9ySW1wbCIsIlRpbWVvdXRFcnJvciIsIlRpbWVvdXRFcnJvckltcGwiLCJwcm9qZWN0IiwidGhpc0FyZyIsIlR5cGVFcnJvciIsIk1hcE9wZXJhdG9yIiwiTWFwU3Vic2NyaWJlciIsInJlc3VsdCIsImJpbmRDYWxsYmFjayIsImNhbGxiYWNrRnVuYyIsInJlc3VsdFNlbGVjdG9yIiwicGFyYW1zIiwiaW5uZXJBcmdzIiwiZGlzcGF0Y2hOZXh0IiwiYmluZE5vZGVDYWxsYmFjayIsIk91dGVyU3Vic2NyaWJlciIsIm5vdGlmeU5leHQiLCJvdXRlclZhbHVlIiwiaW5uZXJWYWx1ZSIsIm91dGVySW5kZXgiLCJpbm5lckluZGV4IiwiaW5uZXJTdWIiLCJub3RpZnlFcnJvciIsIm5vdGlmeUNvbXBsZXRlIiwiSW5uZXJTdWJzY3JpYmVyIiwiZ2V0U3ltYm9sSXRlcmF0b3IiLCJpdGVyYXRvciIsImlzQXJyYXlMaWtlIiwiaXNQcm9taXNlIiwic3Vic2NyaWJlVG8iLCJvYnMiLCJwcm9taXNlIiwiaXRlcmFibGUiLCJpdGVtIiwiZG9uZSIsInJldHVybiIsInN1YnNjcmliZVRvUmVzdWx0Iiwib3V0ZXJTdWJzY3JpYmVyIiwiaW5uZXJTdWJzY3JpYmVyIiwiTk9ORSIsImNvbWJpbmVMYXRlc3QiLCJvYnNlcnZhYmxlcyIsIkNvbWJpbmVMYXRlc3RPcGVyYXRvciIsIkNvbWJpbmVMYXRlc3RTdWJzY3JpYmVyIiwidmFsdWVzIiwidG9SZXNwb25kIiwidW51c2VkIiwiX291dGVyVmFsdWUiLCJvbGRWYWwiLCJfdHJ5UmVzdWx0U2VsZWN0b3IiLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwic2NoZWR1bGVPYnNlcnZhYmxlIiwic2NoZWR1bGVQcm9taXNlIiwiaXNJdGVyYWJsZSIsInNjaGVkdWxlSXRlcmFibGUiLCJmcm9tIiwiU2ltcGxlSW5uZXJTdWJzY3JpYmVyIiwiU2ltcGxlT3V0ZXJTdWJzY3JpYmVyIiwiaW5uZXJTdWJzY3JpYmUiLCJtZXJnZU1hcCIsImNvbmN1cnJlbnQiLCJpaSIsIk1lcmdlTWFwT3BlcmF0b3IiLCJNZXJnZU1hcFN1YnNjcmliZXIiLCJidWZmZXIiLCJfdHJ5TmV4dCIsIl9pbm5lclN1YiIsImlzaCIsImlubmVyU3Vic2NyaXB0aW9uIiwibWVyZ2VBbGwiLCJjb25jYXRBbGwiLCJkZWZlciIsIm9ic2VydmFibGVGYWN0b3J5IiwiZm9ya0pvaW4iLCJzb3VyY2VzIiwiZmlyc3RfMSIsImZvcmtKb2luSW50ZXJuYWwiLCJnZXRQcm90b3R5cGVPZiIsImtleXMiLCJyZXN1bHRTZWxlY3Rvcl8xIiwiY29tcGxldGVkIiwiZW1pdHRlZCIsIl9sb29wXzEiLCJmcm9tRXZlbnQiLCJ0YXJnZXQiLCJldmVudE5hbWUiLCJvcHRpb25zIiwic2V0dXBTdWJzY3JpcHRpb24iLCJzb3VyY2VPYmoiLCJoYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0Iiwic291cmNlXzEiLCJvbiIsIm9mZiIsImlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIiLCJzb3VyY2VfMiIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8zIiwiZnJvbUV2ZW50UGF0dGVybiIsImFkZEhhbmRsZXIiLCJyZW1vdmVIYW5kbGVyIiwicmV0VmFsdWUiLCJnZW5lcmF0ZSIsImluaXRpYWxTdGF0ZU9yT3B0aW9ucyIsImNvbmRpdGlvbiIsIml0ZXJhdGUiLCJyZXN1bHRTZWxlY3Rvck9yT2JzZXJ2YWJsZSIsImluaXRpYWxTdGF0ZSIsImNvbmRpdGlvblJlc3VsdCIsIm5lZWRJdGVyYXRlIiwiaWlmIiwidHJ1ZVJlc3VsdCIsImZhbHNlUmVzdWx0IiwiaXNOdW1lcmljIiwidmFsIiwicGFyc2VGbG9hdCIsImludGVydmFsIiwicGVyaW9kIiwiY291bnRlciIsIm1lcmdlIiwibGFzdCIsIk5FVkVSIiwibmV2ZXIiLCJvbkVycm9yUmVzdW1lTmV4dCIsImZpcnN0IiwicmVtYWluZGVyIiwic3ViTmV4dCIsInBhaXJzIiwibm90IiwicHJlZCIsIm5vdFByZWQiLCJmaWx0ZXIiLCJwcmVkaWNhdGUiLCJGaWx0ZXJPcGVyYXRvciIsIkZpbHRlclN1YnNjcmliZXIiLCJwYXJ0aXRpb24iLCJyYWNlIiwiUmFjZU9wZXJhdG9yIiwiUmFjZVN1YnNjcmliZXIiLCJoYXNGaXJzdCIsInJhbmdlIiwic3RhcnQiLCJjdXJyZW50IiwidGltZXIiLCJkdWVUaW1lIiwicGVyaW9kT3JTY2hlZHVsZXIiLCJkdWUiLCJ1c2luZyIsInJlc291cmNlRmFjdG9yeSIsInJlc291cmNlIiwiemlwIiwiWmlwT3BlcmF0b3IiLCJaaXBTdWJzY3JpYmVyIiwiaXRlcmF0b3JzIiwiU3RhdGljQXJyYXlJdGVyYXRvciIsIlN0YXRpY0l0ZXJhdG9yIiwiWmlwQnVmZmVySXRlcmF0b3IiLCJzdGlsbFVuc3Vic2NyaWJlZCIsIm5vdGlmeUluYWN0aXZlIiwiY2hlY2tJdGVyYXRvcnMiLCJzaG91bGRDb21wbGV0ZSIsIl90cnlyZXN1bHRTZWxlY3RvciIsIm5leHRSZXN1bHQiLCJCb29sZWFuIiwiaXNDb21wbGV0ZSIsIlNuYWtlVHlwZSIsIkRpcmVjdGlvbiIsIkNvbG9yIiwiR2FtZU92ZXIiLCJCT0FSRF9XSURUSCIsIkJPQVJEX0hFSUdIVCIsIkJMT0NLX1NJWkUiLCJGUkFNRV9SQVRFIiwiSU5JVF9TTkFLRV9TSVpFIiwiREVGQVVMVF9HQU1FX0NPTkZJRyIsInNuYWtlVHlwZSIsIlZJUEVSIiwic25ha2VDb3VudCIsIlNOQUtFUyIsInR5cGUiLCJwYXR0ZXJuIiwiTUFNQkEiLCJESVNQSE9MSURVUyIsIkFOQUNPTkRBIiwiUFlUSE9OIiwiQU5JTElVUyIsIk1BWF9TTkFLRVNfQ09VTlQiLCJkaXJlY3Rpb25LZXlNYXAiLCJNYXAiLCJzZXQiLCJMRUZUIiwiVVAiLCJSSUdIVCIsIkRPV04iLCJzZWxlY3RlZFNuYWtlS2V5TWFwIiwid2lkdGgiLCJoZWlnaHQiLCJzZWxlY3RlZFNuYWtlIiwiZm9vZCIsIndhbGwiLCJfc25ha2VDb3VudCIsIl9zbmFrZVR5cGUiLCJkZWF0aFJlYXNvbiQiLCJib3VuZHMiLCJ5Iiwic25ha2VzIiwic25ha2UiLCJoaXRXYWxsIiwiYnVtcFRvV2FsbCIsIm5ld0hlYWQiLCJoaXRTZWxmIiwiYnVtcFRvU25ha2UiLCJISVRfV0FMTCIsIkhJVF9TRUxGIiwic29tZSIsInNlcXVlbmNlIiwic2VnbWVudCIsImJ1bXBlZFRvRWRnZXMiLCJidW1wZWRUb0N1c3RvbVdhbGxzIiwiZmluZCIsImJsb2NrIiwiaXNOb3RBbHJlYWR5V2FsbCIsImlzTm90UGFydG9mU25ha2UiLCJmaW5kSW5kZXgiLCJzdGVwIiwiZm9vZEluZGV4IiwiZ3JvdyIsImdldFJhbmRvbUNvb3JkcyIsImNhbnZhcyIsImVhdENvdW50IiwiZGlhbG9nIiwiRGlhbG9nIiwiZm9vZEluZm8iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3YWxsSW5mbyIsImdhbWVPdmVyQ29udGFpbmVyIiwiaXNHYW1lUGxheWluZyIsIm9uS2V5RG93biIsImV2ZW50IiwiZGlyZWN0aW9uIiwiY29kZSIsImJvYXJkIiwiXyIsInNldERpcmVjdGlvbiIsIkJvYXJkIiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdHcmlkIiwicmVzZXRCb2FyZCIsImNvb3JkcyIsImdldFN0YXJ0aW5nQ29vcmRzIiwiU25ha2UiLCJuZXdGb29kIiwicmVuZGVyIiwiaW50ZXJ2YWxJZCIsInJlYXNvbiIsInNldERpYWxvZ1N0YXRlIiwiRGlhbG9nU3RhdGUiLCJHQU1FX09WRVIiLCJnZXRHYW1lT3Zlck1lc3NhZ2UiLCJpc1BhdXNpbmciLCJyZW5kZXJXYWxsT25seSIsInJlcXVlc3RJbnRlcnZhbCIsImNhblByb2NlZWQiLCJkcmF3QWxsIiwidGljayIsImlubmVyVGV4dCIsInN0b3BHYW1lIiwiY2xlYXJSZWN0IiwiZHJhd1dhbGwiLCJkcmF3Rm9vZCIsInNuYWtlSW5kZXgiLCJkcmF3U25ha2UiLCJiZWdpblBhdGgiLCJzdHJva2VTdHlsZSIsIkdSSUQiLCJtb3ZlVG8iLCJsaW5lVG8iLCJqIiwic3Ryb2tlIiwiV0FMTCIsImxpbmVXaWR0aCIsImhlYWQiLCJpc1NuYWtlU2VsZWN0ZWQiLCJzIiwiZnVsbFBhdHRlcm4iLCJnZXRGdWxsUGF0dGVybiIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiU05BS0VfSEVBRF9TRUxFQ1RFRCIsIlNOQUtFX0hFQUQiLCJTTkFLRV9IRUFEX1RFWFRfU0VMRUNURUQiLCJTTkFLRV9IRUFEX1RFWFQiLCJmb250IiwiZmlsbFRleHQiLCJGT09EIiwiY2VudGVyWCIsImNlbnRlclkiLCJhcmMiLCJQSSIsImZpbGwiLCJjbG9zZVBhdGgiLCJnYW1lT3ZlciIsImdldE5leHRDb29yZHMiLCJpc0RpcmVjdGlvbk9wcG9zaXRlIiwidW5zaGlmdCIsImZsb29yIiwiZXhjbHVkZUFycmF5IiwicmFuZG9tQ29vcmRzIiwib3Bwb3NpdGVEaXJlY3Rpb25zIiwib3JpZ2luYWwiLCJjaGFuZ2VkIiwiZm4yIiwiZ2V0VGltZSIsIndpbmRvdyIsImxvb3AiLCJsb2ciLCJkZWx0YSIsImxpbWl0IiwiU2VsZWN0b3IiLCJpc0RlYnVnTW9kZSIsImdldERlYnVnTW9kZSIsInBhZ2UiLCJQYWdlIiwicmVzdGFydEJ1dHRvbiIsInBhdXNlQnV0dG9uIiwicGVuY2lsQnV0dG9uIiwiZXJhc2VyQnV0dG9uIiwic2hvdWxkUmVjb3JkIiwibW91c2VEb3duTGlzdGVuZXIiLCJ0YWdOYW1lIiwiYm9keSIsInN0eWxlIiwiY3Vyc29yIiwibW91c2VVcExpc3RlbmVyIiwicGVuY2lsTW91c2VNb3ZlTGlzdGVuZXIiLCJub3JtYWxpc2VkWCIsIm5vcm1hbGlzZWRZIiwiZ2V0Tm9ybWFsaXNlZFhZIiwic2V0V2FsbHMiLCJlcmFzZXJNb3VzZU1vdmVMaXN0ZW5lciIsInJlbW92ZVdhbGxzIiwiaW5pdENhbnZhcyIsImFkZExpc3RlbmVycyIsInVwZGF0ZVNlbGVjdGVkQ29uZmlnIiwiZW5hYmxlRGVidWdNb2RlIiwiZ3JpZFJvdyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJzcGFuIiwiU3RyaW5nIiwiYXBwZW5kQ2hpbGQiLCJwcmVwZW5kIiwidXJsIiwiVVJMIiwibG9jYXRpb24iLCJocmVmIiwiVVJMU2VhcmNoUGFyYW1zIiwic2VhcmNoIiwiY291bnRCdXR0b25zIiwiYnV0dG9uIiwiZGF0YXNldCIsIlNFTEVDVEVEIiwidHlwZUJ1dHRvbnMiLCJwYWdlWCIsInBhZ2VZIiwibGVmdCIsInRvcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImwiLCJyIiwic2V0U25ha2VDb3VudCIsInNldFNuYWtlVHlwZSIsInN0YXJ0QnV0dG9uIiwic3RhcnRHYW1lIiwiSElEREVOIiwicXVlcnlTZWxlY3RvckFsbCIsIkdBTUVfQ09ORklHIiwicGF1c2VHYW1lIiwiZmxpcFBhdXNlQnV0dG9ucyIsInJlbW92ZU1vdXNlVXBEb3duTGlzdG5lcnMiLCJ0b2dnbGUiLCJjb250YWlucyIsImFkZFNob3VsZFJlY29yZExpc3RlbmVycyIsInRleHQiLCJkaWFsb2dTdGF0ZSQiLCJkaWFsb2dFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJnZXRUZW1wbGF0ZSIsImdhbWVPdmVyTWVzc2FnZSIsInNlY3Rpb25zIiwiZ2V0U25ha2VzVGVtcGxhdGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJvIiwicHJvcCIsInRvU3RyaW5nVGFnIl0sIm1hcHBpbmdzIjoiO29wQ0FnQkEsSUFBSUEsRUFBZ0IsU0FBU0MsRUFBR0MsR0FJNUIsT0FIQUYsRUFBZ0JHLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQSxFQUFFTSxlQUFlRCxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUNwRE4sRUFBR0MsSUFHckIsU0FBU08sRUFBVVIsRUFBR0MsR0FFekIsU0FBU1EsSUFBT0MsS0FBS0MsWUFBY1gsRUFEbkNELEVBQWNDLEVBQUdDLEdBRWpCRCxFQUFFWSxVQUFrQixPQUFOWCxFQUFhQyxPQUFPVyxPQUFPWixJQUFNUSxFQUFHRyxVQUFZWCxFQUFFVyxVQUFXLElBQUlILEdDekI1RSxTQUFTSyxFQUFXQyxHQUN2QixNQUFvQixtQkFBTkEsRUNEbEIsSUFBSUMsR0FBc0QsRUFDL0NDLEVBQVMsQ0FDaEJDLGFBQVNDLEVBQ1QsMENBQTBDQyxHQUNsQ0EsSUFDMEIsSUFBSUMsT0FDcUdDLE1BS3ZJTixFQUFzREksR0FFMUQsNENBQ0ksT0FBT0osSUNkUixTQUFTTyxFQUFnQkMsR0FDNUJDLFlBQVcsV0FBYyxNQUFNRCxJQUFRLEdDQ3BDLElBQUlFLEVBQVEsQ0FDZkMsUUFBUSxFQUNSQyxLQUFNLFNBQVVSLEtBQ2hCUyxNQUFPLFNBQVVMLEdBQ2IsR0FBSVAsRUFBT2Esc0NBQ1AsTUFBTU4sRUFHTkQsRUFB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LEtBQUt3cUIsc3NCQzVGakJDLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVVDLFFBRzNDLElBQUlDLEVBQVNKLEVBQXlCRSxHQUFZLENBR2pEQyxRQUFTLElBT1YsT0FIQUUsRUFBb0JILEdBQVVFLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9DRyxFQUFPRCxRQ25CZkYsRUFBb0JwckIsRUFBSSxDQUFDc3JCLEVBQVNHLEtBQ2pDLElBQUksSUFBSXRoQixLQUFPc2hCLEVBQ1hMLEVBQW9CTSxFQUFFRCxFQUFZdGhCLEtBQVNpaEIsRUFBb0JNLEVBQUVKLEVBQVNuaEIsSUFDNUVqSyxPQUFPeUssZUFBZTJnQixFQUFTbmhCLEVBQUssQ0FBRVcsWUFBWSxFQUFNRixJQUFLNmdCLEVBQVd0aEIsTUNKM0VpaEIsRUFBb0JNLEVBQUksQ0FBQzFaLEVBQUsyWixJQUFVenJCLE9BQU9VLFVBQVVMLGVBQWUrQixLQUFLMFAsRUFBSzJaLEdDQ2xGUCxFQUFvQnhCLEVBQUswQixJQUNILG9CQUFYOW1CLFFBQTBCQSxPQUFPb25CLGFBQzFDMXJCLE9BQU95SyxlQUFlMmdCLEVBQVM5bUIsT0FBT29uQixZQUFhLENBQUV4cUIsTUFBTyxXQUU3RGxCLE9BQU95SyxlQUFlMmdCLEVBQVMsYUFBYyxDQUFFbHFCLE9BQU8sS0NIdkRncUIsRUFBb0IsS0FFcEJBLEVBQW9CLE0iLCJmaWxlIjoiaW5kZXgubWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IGZhbHNlO1xuZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHNldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gLypAX19QVVJFX18qLyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS53YXJuKCdERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXFxuJyArIGVycm9yLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MpIHtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS5sb2coJ1J4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMnKTtcbiAgICAgICAgfVxuICAgICAgICBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCkge1xuICAgICAgICByZXR1cm4gX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RSZXBvcnRFcnJvcihlcnIpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhyb3cgZXJyOyB9LCAwKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvc3RSZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG5leHBvcnQgdmFyIGVtcHR5ID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIGlzQXJyYXkgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7IHJldHVybiBBcnJheS5pc0FycmF5IHx8IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInOyB9KTsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKGVycm9ycykge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnMgP1xuICAgICAgICAgICAgZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJykgOiAnJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzQXJyYXksX3V0aWxfaXNPYmplY3QsX3V0aWxfaXNGdW5jdGlvbixfdXRpbF9VbnN1YnNjcmlwdGlvbkVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vdXRpbC9pc09iamVjdCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbnZhciBTdWJzY3JpcHRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICBpZiAodW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0b3JVbnN1YnNjcmliZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IHVuc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnRPclBhcmVudHMgPSBfYS5fcGFyZW50T3JQYXJlbnRzLCBfY3RvclVuc3Vic2NyaWJlID0gX2EuX2N0b3JVbnN1YnNjcmliZSwgX3Vuc3Vic2NyaWJlID0gX2EuX3Vuc3Vic2NyaWJlLCBfc3Vic2NyaXB0aW9ucyA9IF9hLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgX3BhcmVudE9yUGFyZW50cy5yZW1vdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IF9wYXJlbnRPclBhcmVudHMubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudE9yUGFyZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKF91bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIGlmIChfY3RvclVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF91bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykgOiBbZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkoX3N1YnNjcmlwdGlvbnMpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBfc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHZhciBzdWIgPSBfc3Vic2NyaXB0aW9uc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHN1YikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRlYXJkb3duO1xuICAgICAgICBpZiAoIXRlYXJkb3duKSB7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHRlYXJkb3duKSB7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbih0ZWFyZG93bik7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24gPT09IHRoaXMgfHwgc3Vic2NyaXB0aW9uLmNsb3NlZCB8fCB0eXBlb2Ygc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24uX3N1YnNjcmlwdGlvbnMgPSBbdG1wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgdGVhcmRvd24gJyArIHRlYXJkb3duICsgJyBhZGRlZCB0byBTdWJzY3JpcHRpb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9wYXJlbnRPclBhcmVudHMgPSBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cyA9IFtfcGFyZW50T3JQYXJlbnRzLCB0aGlzXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzLmluZGV4T2YodGhpcykgPT09IC0xKSB7XG4gICAgICAgICAgICBfcGFyZW50T3JQYXJlbnRzLnB1c2godGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBbc3Vic2NyaXB0aW9uXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbkluZGV4ID0gc3Vic2NyaXB0aW9ucy5pbmRleE9mKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2Uoc3Vic2NyaXB0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKGVtcHR5KSB7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KG5ldyBTdWJzY3JpcHRpb24oKSkpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH07XG5mdW5jdGlvbiBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZXJyb3JzKSB7XG4gICAgcmV0dXJuIGVycm9ycy5yZWR1Y2UoZnVuY3Rpb24gKGVycnMsIGVycikgeyByZXR1cm4gZXJycy5jb25jYXQoKGVyciBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpID8gZXJyLmVycm9ycyA6IGVycik7IH0sIFtdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgcnhTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gLypAX19QVVJFX18qLyBTeW1ib2woJ3J4U3Vic2NyaWJlcicpXG4gICAgICAgIDogJ0BAcnhTdWJzY3JpYmVyXycgKyAvKkBfX1BVUkVfXyovIE1hdGgucmFuZG9tKCk7XG59KSgpO1xuZXhwb3J0IHZhciAkJHJ4U3Vic2NyaWJlciA9IHJ4U3Vic2NyaWJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ4U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfaXNGdW5jdGlvbixfT2JzZXJ2ZXIsX1N1YnNjcmlwdGlvbixfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlcixfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuL09ic2VydmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9pbnRlcm5hbC9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9ob3N0UmVwb3J0RXJyb3InO1xudmFyIFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVmFsdWUgPSBudWxsO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGVtcHR5T2JzZXJ2ZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbk9yTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGVtcHR5T2JzZXJ2ZXI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRlc3RpbmF0aW9uT3JOZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdGluYXRpb25Pck5leHQgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBkZXN0aW5hdGlvbk9yTmV4dC5zeW5jRXJyb3JUaHJvd2FibGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uT3JOZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25Pck5leHQuYWRkKF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcihfdGhpcywgZGVzdGluYXRpb25Pck5leHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcihfdGhpcywgZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZVtyeFN1YnNjcmliZXJTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBuZXcgU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBzdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRPclBhcmVudHMgPSB0aGlzLl9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaWJlcjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBTdWJzY3JpYmVyIH07XG52YXIgU2FmZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2FmZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVN1YnNjcmliZXIoX3BhcmVudFN1YnNjcmliZXIsIG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBfcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdmFyIG5leHQ7XG4gICAgICAgIHZhciBjb250ZXh0ID0gX3RoaXM7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9ic2VydmVyT3JOZXh0KSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQubmV4dDtcbiAgICAgICAgICAgIGVycm9yID0gb2JzZXJ2ZXJPck5leHQuZXJyb3I7XG4gICAgICAgICAgICBjb21wbGV0ZSA9IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlO1xuICAgICAgICAgICAgaWYgKG9ic2VydmVyT3JOZXh0ICE9PSBlbXB0eU9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IE9iamVjdC5jcmVhdGUob2JzZXJ2ZXJPck5leHQpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQudW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZChjb250ZXh0LnVuc3Vic2NyaWJlLmJpbmQoY29udGV4dCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LnVuc3Vic2NyaWJlID0gX3RoaXMudW5zdWJzY3JpYmUuYmluZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG5leHQ7XG4gICAgICAgIF90aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkICYmIHRoaXMuX25leHQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fbmV4dCwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICB2YXIgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyA9IGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdyYXBwZWRDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jb21wbGV0ZS5jYWxsKF90aGlzLl9jb250ZXh0KTsgfTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIod3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yVW5zdWIgPSBmdW5jdGlvbiAoZm4sIHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JTZXRFcnJvciA9IGZ1bmN0aW9uIChwYXJlbnQsIGZuLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBjYWxsJyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgX3BhcmVudFN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcikge1xuICAgIHdoaWxlIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX2EgPSBvYnNlcnZlciwgY2xvc2VkXzEgPSBfYS5jbG9zZWQsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb24sIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZDtcbiAgICAgICAgaWYgKGNsb3NlZF8xIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICAgIHJldHVybiB4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF90b1N1YnNjcmliZXIsX3N5bWJvbF9vYnNlcnZhYmxlLF91dGlsX3BpcGUsX2NvbmZpZyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyB0b1N1YnNjcmliZXIgfSBmcm9tICcuL3V0aWwvdG9TdWJzY3JpYmVyJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG52YXIgT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLl9pc1NjYWxhciA9IGZhbHNlO1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBvcGVyYXRvciA9IHRoaXMub3BlcmF0b3I7XG4gICAgICAgIHZhciBzaW5rID0gdG9TdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBpZiAob3BlcmF0b3IpIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKG9wZXJhdG9yLmNhbGwoc2luaywgdGhpcy5zb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKHRoaXMuc291cmNlIHx8IChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiAhc2luay5zeW5jRXJyb3JUaHJvd2FibGUpID9cbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUoc2luaykgOlxuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVN1YnNjcmliZShzaW5rKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBzaW5rLnN5bmNFcnJvclZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2luaztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzaW5rKSkge1xuICAgICAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICByZXR1cm4gc291cmNlICYmIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtTeW1ib2xfb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BlcmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gdmFsdWUgPSB4OyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICBwcm9taXNlQ3RvciA9IGNvbmZpZy5Qcm9taXNlIHx8IFByb21pc2U7XG4gICAgfVxuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBQcm9taXNlIGltcGwgZm91bmQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2VDdG9yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIsX3N5bWJvbF9yeFN1YnNjcmliZXIsX09ic2VydmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuLi9PYnNlcnZlcic7XG5leHBvcnQgZnVuY3Rpb24gdG9TdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICBpZiAobmV4dE9yT2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmV4dE9yT2JzZXJ2ZXIgJiYgIWVycm9yICYmICFjb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIoZW1wdHlPYnNlcnZlcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsKCkge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnb2JqZWN0IHVuc3Vic2NyaWJlZCc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdPYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yID0gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbnZhciBTdWJqZWN0U3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3RTdWJzY3JpcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdFN1YnNjcmlwdGlvbihzdWJqZWN0LCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN1YmplY3QgPSBzdWJqZWN0O1xuICAgICAgICBfdGhpcy5zdWJzY3JpYmVyID0gc3Vic2NyaWJlcjtcbiAgICAgICAgX3RoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHN1YmplY3QgPSB0aGlzLnN1YmplY3Q7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSBzdWJqZWN0Lm9ic2VydmVycztcbiAgICAgICAgdGhpcy5zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFvYnNlcnZlcnMgfHwgb2JzZXJ2ZXJzLmxlbmd0aCA9PT0gMCB8fCBzdWJqZWN0LmlzU3RvcHBlZCB8fCBzdWJqZWN0LmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpYmVySW5kZXggPSBvYnNlcnZlcnMuaW5kZXhPZih0aGlzLnN1YnNjcmliZXIpO1xuICAgICAgICBpZiAoc3Vic2NyaWJlckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXJzLnNwbGljZShzdWJzY3JpYmVySW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3ViamVjdFN1YnNjcmlwdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBTdWJqZWN0U3Vic2NyaXB0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0U3Vic2NyaXB0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfT2JzZXJ2YWJsZSxfU3Vic2NyaWJlcixfU3Vic2NyaXB0aW9uLF91dGlsX09iamVjdFVuc3Vic2NyaWJlZEVycm9yLF9TdWJqZWN0U3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3ViamVjdFN1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG52YXIgU3ViamVjdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3ViamVjdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdFN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN1YmplY3RTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTdWJqZWN0U3Vic2NyaWJlciB9O1xudmFyIFN1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50aHJvd25FcnJvciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdC5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaWJlcih0aGlzKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQW5vbnltb3VzU3ViamVjdCh0aGlzLCB0aGlzKTtcbiAgICAgICAgc3ViamVjdC5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29weVtpXS5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMudGhyb3duRXJyb3IgPSBlcnI7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29weVtpXS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IG51bGw7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aGlzLnRocm93bkVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5hc09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IFN1YmplY3QgfTtcbnZhciBBbm9ueW1vdXNTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFub255bW91c1N1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5uZXh0KSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQW5vbnltb3VzU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0IHsgQW5vbnltb3VzU3ViamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiByZWZDb3VudCgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVmQ291bnRPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFJlZkNvdW50T3BlcmF0b3Ioc291cmNlKSk7XG4gICAgfTtcbn1cbnZhciBSZWZDb3VudE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50T3BlcmF0b3IoY29ubmVjdGFibGUpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgIH1cbiAgICBSZWZDb3VudE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQrKztcbiAgICAgICAgdmFyIHJlZkNvdW50ZXIgPSBuZXcgUmVmQ291bnRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGNvbm5lY3RhYmxlKTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUocmVmQ291bnRlcik7XG4gICAgICAgIGlmICghcmVmQ291bnRlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJlZkNvdW50ZXIuY29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZkNvdW50T3BlcmF0b3I7XG59KCkpO1xudmFyIFJlZkNvdW50U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZWZDb3VudFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb25uZWN0YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZWZDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgaWYgKCFjb25uZWN0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gbnVsbDtcbiAgICAgICAgdmFyIHJlZkNvdW50ID0gY29ubmVjdGFibGUuX3JlZkNvdW50O1xuICAgICAgICBpZiAocmVmQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQgPSByZWZDb3VudCAtIDE7XG4gICAgICAgIGlmIChyZWZDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb247XG4gICAgICAgIHZhciBzaGFyZWRDb25uZWN0aW9uID0gY29ubmVjdGFibGUuX2Nvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmIChzaGFyZWRDb25uZWN0aW9uICYmICghY29ubmVjdGlvbiB8fCBzaGFyZWRDb25uZWN0aW9uID09PSBjb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgc2hhcmVkQ29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWZDb3VudC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX09ic2VydmFibGUsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbixfb3BlcmF0b3JzX3JlZkNvdW50IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0U3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHJlZkNvdW50IGFzIGhpZ2hlck9yZGVyUmVmQ291bnQgfSBmcm9tICcuLi9vcGVyYXRvcnMvcmVmQ291bnQnO1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb25uZWN0YWJsZU9ic2VydmFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29ubmVjdGFibGVPYnNlcnZhYmxlKHNvdXJjZSwgc3ViamVjdEZhY3RvcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy5zdWJqZWN0RmFjdG9yeSA9IHN1YmplY3RGYWN0b3J5O1xuICAgICAgICBfdGhpcy5fcmVmQ291bnQgPSAwO1xuICAgICAgICBfdGhpcy5faXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN1YmplY3QoKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLmdldFN1YmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gdGhpcy5fc3ViamVjdDtcbiAgICAgICAgaWYgKCFzdWJqZWN0IHx8IHN1YmplY3QuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJqZWN0ID0gdGhpcy5zdWJqZWN0RmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJqZWN0O1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb247XG4gICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5faXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmFkZCh0aGlzLnNvdXJjZVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUobmV3IENvbm5lY3RhYmxlU3Vic2NyaWJlcih0aGlzLmdldFN1YmplY3QoKSwgdGhpcykpKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLnJlZkNvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaGlnaGVyT3JkZXJSZWZDb3VudCgpKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTtcbn0oT2JzZXJ2YWJsZSkpO1xuZXhwb3J0IHsgQ29ubmVjdGFibGVPYnNlcnZhYmxlIH07XG5leHBvcnQgdmFyIGNvbm5lY3RhYmxlT2JzZXJ2YWJsZURlc2NyaXB0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbm5lY3RhYmxlUHJvdG8gPSBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlO1xuICAgIHJldHVybiB7XG4gICAgICAgIG9wZXJhdG9yOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgICAgIF9yZWZDb3VudDogeyB2YWx1ZTogMCwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgX3N1YmplY3Q6IHsgdmFsdWU6IG51bGwsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgIF9jb25uZWN0aW9uOiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICBfc3Vic2NyaWJlOiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLl9zdWJzY3JpYmUgfSxcbiAgICAgICAgX2lzQ29tcGxldGU6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uX2lzQ29tcGxldGUsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgIGdldFN1YmplY3Q6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uZ2V0U3ViamVjdCB9LFxuICAgICAgICBjb25uZWN0OiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLmNvbm5lY3QgfSxcbiAgICAgICAgcmVmQ291bnQ6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8ucmVmQ291bnQgfVxuICAgIH07XG59KSgpO1xudmFyIENvbm5lY3RhYmxlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb25uZWN0YWJsZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29ubmVjdGFibGVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb25uZWN0YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb25uZWN0YWJsZVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fZXJyb3IuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUuX2lzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl91bnN1YnNjcmliZSgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGlmIChjb25uZWN0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgY29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLl9jb25uZWN0aW9uO1xuICAgICAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50ID0gMDtcbiAgICAgICAgICAgIGNvbm5lY3RhYmxlLl9zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbm5lY3RhYmxlLl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29ubmVjdGFibGVTdWJzY3JpYmVyO1xufShTdWJqZWN0U3Vic2NyaWJlcikpO1xudmFyIFJlZkNvdW50T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRPcGVyYXRvcihjb25uZWN0YWJsZSkge1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgfVxuICAgIFJlZkNvdW50T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCsrO1xuICAgICAgICB2YXIgcmVmQ291bnRlciA9IG5ldyBSZWZDb3VudFN1YnNjcmliZXIoc3Vic2NyaWJlciwgY29ubmVjdGFibGUpO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShyZWZDb3VudGVyKTtcbiAgICAgICAgaWYgKCFyZWZDb3VudGVyLmNsb3NlZCkge1xuICAgICAgICAgICAgcmVmQ291bnRlci5jb25uZWN0aW9uID0gY29ubmVjdGFibGUuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRPcGVyYXRvcjtcbn0oKSk7XG52YXIgUmVmQ291bnRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlZkNvdW50U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZWZDb3VudFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlZkNvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBpZiAoIWNvbm5lY3RhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBudWxsO1xuICAgICAgICB2YXIgcmVmQ291bnQgPSBjb25uZWN0YWJsZS5fcmVmQ291bnQ7XG4gICAgICAgIGlmIChyZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCA9IHJlZkNvdW50IC0gMTtcbiAgICAgICAgaWYgKHJlZkNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbjtcbiAgICAgICAgdmFyIHNoYXJlZENvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5fY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgaWYgKHNoYXJlZENvbm5lY3Rpb24gJiYgKCFjb25uZWN0aW9uIHx8IHNoYXJlZENvbm5lY3Rpb24gPT09IGNvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgICBzaGFyZWRDb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSZWZDb3VudFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbm5lY3RhYmxlT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbixfT2JzZXJ2YWJsZSxfU3ViamVjdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmV4cG9ydCBmdW5jdGlvbiBncm91cEJ5KGtleVNlbGVjdG9yLCBlbGVtZW50U2VsZWN0b3IsIGR1cmF0aW9uU2VsZWN0b3IsIHN1YmplY3RTZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgR3JvdXBCeU9wZXJhdG9yKGtleVNlbGVjdG9yLCBlbGVtZW50U2VsZWN0b3IsIGR1cmF0aW9uU2VsZWN0b3IsIHN1YmplY3RTZWxlY3RvcikpO1xuICAgIH07XG59XG52YXIgR3JvdXBCeU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdyb3VwQnlPcGVyYXRvcihrZXlTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yLCBkdXJhdGlvblNlbGVjdG9yLCBzdWJqZWN0U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5rZXlTZWxlY3RvciA9IGtleVNlbGVjdG9yO1xuICAgICAgICB0aGlzLmVsZW1lbnRTZWxlY3RvciA9IGVsZW1lbnRTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5kdXJhdGlvblNlbGVjdG9yID0gZHVyYXRpb25TZWxlY3RvcjtcbiAgICAgICAgdGhpcy5zdWJqZWN0U2VsZWN0b3IgPSBzdWJqZWN0U2VsZWN0b3I7XG4gICAgfVxuICAgIEdyb3VwQnlPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEdyb3VwQnlTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMua2V5U2VsZWN0b3IsIHRoaXMuZWxlbWVudFNlbGVjdG9yLCB0aGlzLmR1cmF0aW9uU2VsZWN0b3IsIHRoaXMuc3ViamVjdFNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gR3JvdXBCeU9wZXJhdG9yO1xufSgpKTtcbnZhciBHcm91cEJ5U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhHcm91cEJ5U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBHcm91cEJ5U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwga2V5U2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciwgZHVyYXRpb25TZWxlY3Rvciwgc3ViamVjdFNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5rZXlTZWxlY3RvciA9IGtleVNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5lbGVtZW50U2VsZWN0b3IgPSBlbGVtZW50U2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmR1cmF0aW9uU2VsZWN0b3IgPSBkdXJhdGlvblNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5zdWJqZWN0U2VsZWN0b3IgPSBzdWJqZWN0U2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmdyb3VwcyA9IG51bGw7XG4gICAgICAgIF90aGlzLmF0dGVtcHRlZFRvVW5zdWJzY3JpYmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAga2V5ID0gdGhpcy5rZXlTZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2dyb3VwKHZhbHVlLCBrZXkpO1xuICAgIH07XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9ncm91cCA9IGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwcztcbiAgICAgICAgaWYgKCFncm91cHMpIHtcbiAgICAgICAgICAgIGdyb3VwcyA9IHRoaXMuZ3JvdXBzID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBncm91cCA9IGdyb3Vwcy5nZXQoa2V5KTtcbiAgICAgICAgdmFyIGVsZW1lbnQ7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRTZWxlY3Rvcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5lbGVtZW50U2VsZWN0b3IodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdyb3VwKSB7XG4gICAgICAgICAgICBncm91cCA9ICh0aGlzLnN1YmplY3RTZWxlY3RvciA/IHRoaXMuc3ViamVjdFNlbGVjdG9yKCkgOiBuZXcgU3ViamVjdCgpKTtcbiAgICAgICAgICAgIGdyb3Vwcy5zZXQoa2V5LCBncm91cCk7XG4gICAgICAgICAgICB2YXIgZ3JvdXBlZE9ic2VydmFibGUgPSBuZXcgR3JvdXBlZE9ic2VydmFibGUoa2V5LCBncm91cCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoZ3JvdXBlZE9ic2VydmFibGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZHVyYXRpb25TZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMuZHVyYXRpb25TZWxlY3RvcihuZXcgR3JvdXBlZE9ic2VydmFibGUoa2V5LCBncm91cCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkZChkdXJhdGlvbi5zdWJzY3JpYmUobmV3IEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyKGtleSwgZ3JvdXAsIHRoaXMpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFncm91cC5jbG9zZWQpIHtcbiAgICAgICAgICAgIGdyb3VwLm5leHQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwcztcbiAgICAgICAgaWYgKGdyb3Vwcykge1xuICAgICAgICAgICAgZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBncm91cC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBncm91cHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfTtcbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG4gICAgICAgIGlmIChncm91cHMpIHtcbiAgICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cCwga2V5KSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ3JvdXBzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLnJlbW92ZUdyb3VwID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLmdyb3Vwcy5kZWxldGUoa2V5KTtcbiAgICB9O1xuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5hdHRlbXB0ZWRUb1Vuc3Vic2NyaWJlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gR3JvdXBCeVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbnZhciBHcm91cER1cmF0aW9uU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhHcm91cER1cmF0aW9uU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBHcm91cER1cmF0aW9uU3Vic2NyaWJlcihrZXksIGdyb3VwLCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZ3JvdXApIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmtleSA9IGtleTtcbiAgICAgICAgX3RoaXMuZ3JvdXAgPSBncm91cDtcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBHcm91cER1cmF0aW9uU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBwYXJlbnQgPSBfYS5wYXJlbnQsIGtleSA9IF9hLmtleTtcbiAgICAgICAgdGhpcy5rZXkgPSB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVHcm91cChrZXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gR3JvdXBEdXJhdGlvblN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbnZhciBHcm91cGVkT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhHcm91cGVkT2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBHcm91cGVkT2JzZXJ2YWJsZShrZXksIGdyb3VwU3ViamVjdCwgcmVmQ291bnRTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMua2V5ID0ga2V5O1xuICAgICAgICBfdGhpcy5ncm91cFN1YmplY3QgPSBncm91cFN1YmplY3Q7XG4gICAgICAgIF90aGlzLnJlZkNvdW50U3Vic2NyaXB0aW9uID0gcmVmQ291bnRTdWJzY3JpcHRpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgR3JvdXBlZE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCByZWZDb3VudFN1YnNjcmlwdGlvbiA9IF9hLnJlZkNvdW50U3Vic2NyaXB0aW9uLCBncm91cFN1YmplY3QgPSBfYS5ncm91cFN1YmplY3Q7XG4gICAgICAgIGlmIChyZWZDb3VudFN1YnNjcmlwdGlvbiAmJiAhcmVmQ291bnRTdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uYWRkKG5ldyBJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uKHJlZkNvdW50U3Vic2NyaXB0aW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaXB0aW9uLmFkZChncm91cFN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBHcm91cGVkT2JzZXJ2YWJsZTtcbn0oT2JzZXJ2YWJsZSkpO1xuZXhwb3J0IHsgR3JvdXBlZE9ic2VydmFibGUgfTtcbnZhciBJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKElubmVyUmVmQ291bnRTdWJzY3JpcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbihwYXJlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBwYXJlbnQuY291bnQrKztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICBpZiAoIXBhcmVudC5jbG9zZWQgJiYgIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICBwYXJlbnQuY291bnQgLT0gMTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuY291bnQgPT09IDAgJiYgcGFyZW50LmF0dGVtcHRlZFRvVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIElubmVyUmVmQ291bnRTdWJzY3JpcHRpb247XG59KFN1YnNjcmlwdGlvbikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JvdXBCeS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX3V0aWxfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xudmFyIEJlaGF2aW9yU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCZWhhdmlvclN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmVoYXZpb3JTdWJqZWN0KF92YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBfc3VwZXIucHJvdG90eXBlLl9zdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiAmJiAhc3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMudGhyb3duRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdGhpcy5fdmFsdWUgPSB2YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmVoYXZpb3JTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBCZWhhdmlvclN1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJlaGF2aW9yU3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9BY3Rpb24nO1xudmFyIEFzeW5jQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIF90aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmlkIHx8IHRoaXMucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCB0aGlzLmlkLCBkZWxheSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCAmJiB0aGlzLmRlbGF5ID09PSBkZWxheSAmJiB0aGlzLnBlbmRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nID09PSBmYWxzZSAmJiB0aGlzLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLCB0aGlzLmlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICB2YXIgZXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3JWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMud29yayhzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgZXJyb3JWYWx1ZSA9ICEhZSAmJiBlIHx8IG5ldyBFcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgdmFyIGluZGV4ID0gYWN0aW9ucy5pbmRleE9mKHRoaXMpO1xuICAgICAgICB0aGlzLndvcmsgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gbnVsbDtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgYWN0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY0FjdGlvbjtcbn0oQWN0aW9uKSk7XG5leHBvcnQgeyBBc3luY0FjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNBY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG52YXIgQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jQWN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xudmFyIFF1ZXVlQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFF1ZXVlQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1ZXVlQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUXVldWVBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIuZmx1c2godGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUXVldWVBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIHJldHVybiAoZGVsYXkgPiAwIHx8IHRoaXMuY2xvc2VkKSA/XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmV4ZWN1dGUuY2FsbCh0aGlzLCBzdGF0ZSwgZGVsYXkpIDpcbiAgICAgICAgICAgIHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9O1xuICAgIFF1ZXVlQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB8fCAoZGVsYXkgPT09IG51bGwgJiYgdGhpcy5kZWxheSA+IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLmZsdXNoKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFF1ZXVlQWN0aW9uO1xufShBc3luY0FjdGlvbikpO1xuZXhwb3J0IHsgUXVldWVBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1ZXVlQWN0aW9uLmpzLm1hcFxuIiwidmFyIFNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub3cgPSBTY2hlZHVsZXIubm93O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuU2NoZWR1bGVyQWN0aW9uID0gU2NoZWR1bGVyQWN0aW9uO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHRoaXMuU2NoZWR1bGVyQWN0aW9uKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKTsgfTtcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuLi9TY2hlZHVsZXInO1xudmFyIEFzeW5jU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbm93ID0gU2NoZWR1bGVyLm5vdztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAmJiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAhPT0gX3RoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICYmIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICE9PSB0aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUuc2NoZWR1bGUod29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgd29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9RdWV1ZUFjdGlvbixfUXVldWVTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgUXVldWVBY3Rpb24gfSBmcm9tICcuL1F1ZXVlQWN0aW9uJztcbmltcG9ydCB7IFF1ZXVlU2NoZWR1bGVyIH0gZnJvbSAnLi9RdWV1ZVNjaGVkdWxlcic7XG5leHBvcnQgdmFyIHF1ZXVlU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyBuZXcgUXVldWVTY2hlZHVsZXIoUXVldWVBY3Rpb24pO1xuZXhwb3J0IHZhciBxdWV1ZSA9IHF1ZXVlU2NoZWR1bGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVldWUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbnZhciBRdWV1ZVNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhRdWV1ZVNjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBRdWV1ZVNjaGVkdWxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUXVldWVTY2hlZHVsZXI7XG59KEFzeW5jU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBRdWV1ZVNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVldWVTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgRU1QVFkgPSAvKkBfX1BVUkVfXyovIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pO1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIDogRU1QVFk7XG59XG5mdW5jdGlvbiBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtcHR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2NoZWR1bGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zY2hlZHVsZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb0FycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW4gJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9BcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29ic2VydmFibGVfZW1wdHksX29ic2VydmFibGVfb2YsX29ic2VydmFibGVfdGhyb3dFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBlbXB0eSB9IGZyb20gJy4vb2JzZXJ2YWJsZS9lbXB0eSc7XG5pbXBvcnQgeyBvZiB9IGZyb20gJy4vb2JzZXJ2YWJsZS9vZic7XG5pbXBvcnQgeyB0aHJvd0Vycm9yIH0gZnJvbSAnLi9vYnNlcnZhYmxlL3Rocm93RXJyb3InO1xuZXhwb3J0IHZhciBOb3RpZmljYXRpb25LaW5kO1xuLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKE5vdGlmaWNhdGlvbktpbmQpIHtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiTkVYVFwiXSA9IFwiTlwiO1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJFUlJPUlwiXSA9IFwiRVwiO1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJDT01QTEVURVwiXSA9IFwiQ1wiO1xufSkoTm90aWZpY2F0aW9uS2luZCB8fCAoTm90aWZpY2F0aW9uS2luZCA9IHt9KSk7XG52YXIgTm90aWZpY2F0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICAgICAgdGhpcy5raW5kID0ga2luZDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSBraW5kID09PSAnTic7XG4gICAgfVxuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICBzd2l0Y2ggKHRoaXMua2luZCkge1xuICAgICAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLm5leHQgJiYgb2JzZXJ2ZXIubmV4dCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5lcnJvciAmJiBvYnNlcnZlci5lcnJvcih0aGlzLmVycm9yKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5jb21wbGV0ZSAmJiBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLmRvID0gZnVuY3Rpb24gKG5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIga2luZCA9IHRoaXMua2luZDtcbiAgICAgICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCAmJiBuZXh0KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yICYmIGVycm9yKHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlICYmIGNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyICYmIHR5cGVvZiBuZXh0T3JPYnNlcnZlci5uZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYnNlcnZlKG5leHRPck9ic2VydmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLnRvT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGtpbmQgPSB0aGlzLmtpbmQ7XG4gICAgICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mKHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IodGhpcy5lcnJvcik7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQgbm90aWZpY2F0aW9uIGtpbmQgdmFsdWUnKTtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vdGlmaWNhdGlvbignTicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNyZWF0ZUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gbmV3IE5vdGlmaWNhdGlvbignRScsIHVuZGVmaW5lZCwgZXJyKTtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi5jb21wbGV0ZU5vdGlmaWNhdGlvbjtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jb21wbGV0ZU5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24oJ0MnKTtcbiAgICBOb3RpZmljYXRpb24udW5kZWZpbmVkVmFsdWVOb3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKCdOJywgdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gTm90aWZpY2F0aW9uO1xufSgpKTtcbmV4cG9ydCB7IE5vdGlmaWNhdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5wdXRbaSsrXSk7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3ViLmFkZCh0aGlzLnNjaGVkdWxlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUb0FycmF5LF9zY2hlZHVsZWRfc2NoZWR1bGVBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0FycmF5IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb0FycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5KGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG9BcnJheShpbnB1dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUFycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc1NjaGVkdWxlcixfZnJvbUFycmF5LF9zY2hlZHVsZWRfc2NoZWR1bGVBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBvZigpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBpZiAoaXNTY2hlZHVsZXIoc2NoZWR1bGVyKSkge1xuICAgICAgICBhcmdzLnBvcCgpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShhcmdzLCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZyb21BcnJheShhcmdzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vZi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3IsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnJvcik7IH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHsgZXJyb3I6IGVycm9yLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyIH0pOyB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBkaXNwYXRjaChfYSkge1xuICAgIHZhciBlcnJvciA9IF9hLmVycm9yLCBzdWJzY3JpYmVyID0gX2Euc3Vic2NyaWJlcjtcbiAgICBzdWJzY3JpYmVyLmVycm9yKGVycm9yKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9Ob3RpZmljYXRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL05vdGlmaWNhdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gb2JzZXJ2ZU9uKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICBkZWxheSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBvYnNlcnZlT25PcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE9ic2VydmVPbk9wZXJhdG9yKHNjaGVkdWxlciwgZGVsYXkpKTtcbiAgICB9O1xufVxudmFyIE9ic2VydmVPbk9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmVPbk9wZXJhdG9yKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgIH1cbiAgICBPYnNlcnZlT25PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IE9ic2VydmVPblN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5zY2hlZHVsZXIsIHRoaXMuZGVsYXkpKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZlT25PcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZlT25PcGVyYXRvciB9O1xudmFyIE9ic2VydmVPblN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoT2JzZXJ2ZU9uU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPYnNlcnZlT25TdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYnNlcnZlT25TdWJzY3JpYmVyLmRpc3BhdGNoID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgICB2YXIgbm90aWZpY2F0aW9uID0gYXJnLm5vdGlmaWNhdGlvbiwgZGVzdGluYXRpb24gPSBhcmcuZGVzdGluYXRpb247XG4gICAgICAgIG5vdGlmaWNhdGlvbi5vYnNlcnZlKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgT2JzZXJ2ZU9uU3Vic2NyaWJlci5wcm90b3R5cGUuc2NoZWR1bGVNZXNzYWdlID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQodGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoT2JzZXJ2ZU9uU3Vic2NyaWJlci5kaXNwYXRjaCwgdGhpcy5kZWxheSwgbmV3IE9ic2VydmVPbk1lc3NhZ2Uobm90aWZpY2F0aW9uLCB0aGlzLmRlc3RpbmF0aW9uKSkpO1xuICAgIH07XG4gICAgT2JzZXJ2ZU9uU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU1lc3NhZ2UoTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQodmFsdWUpKTtcbiAgICB9O1xuICAgIE9ic2VydmVPblN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU1lc3NhZ2UoTm90aWZpY2F0aW9uLmNyZWF0ZUVycm9yKGVycikpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBPYnNlcnZlT25TdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVNZXNzYWdlKE5vdGlmaWNhdGlvbi5jcmVhdGVDb21wbGV0ZSgpKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmVPblN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IE9ic2VydmVPblN1YnNjcmliZXIgfTtcbnZhciBPYnNlcnZlT25NZXNzYWdlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmVPbk1lc3NhZ2Uobm90aWZpY2F0aW9uLCBkZXN0aW5hdGlvbikge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbiA9IG5vdGlmaWNhdGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gT2JzZXJ2ZU9uTWVzc2FnZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZlT25NZXNzYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlT24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF9zY2hlZHVsZXJfcXVldWUsX1N1YnNjcmlwdGlvbixfb3BlcmF0b3JzX29ic2VydmVPbixfdXRpbF9PYmplY3RVbnN1YnNjcmliZWRFcnJvcixfU3ViamVjdFN1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vU3ViamVjdCc7XG5pbXBvcnQgeyBxdWV1ZSB9IGZyb20gJy4vc2NoZWR1bGVyL3F1ZXVlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9ic2VydmVPblN1YnNjcmliZXIgfSBmcm9tICcuL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3ViamVjdFN1YnNjcmlwdGlvbic7XG52YXIgUmVwbGF5U3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZXBsYXlTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGxheVN1YmplY3QoYnVmZmVyU2l6ZSwgd2luZG93VGltZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIGlmIChidWZmZXJTaXplID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGJ1ZmZlclNpemUgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbmRvd1RpbWUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgd2luZG93VGltZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLl9ldmVudHMgPSBbXTtcbiAgICAgICAgX3RoaXMuX2luZmluaXRlVGltZVdpbmRvdyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fYnVmZmVyU2l6ZSA9IGJ1ZmZlclNpemUgPCAxID8gMSA6IGJ1ZmZlclNpemU7XG4gICAgICAgIF90aGlzLl93aW5kb3dUaW1lID0gd2luZG93VGltZSA8IDEgPyAxIDogd2luZG93VGltZTtcbiAgICAgICAgaWYgKHdpbmRvd1RpbWUgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgX3RoaXMuX2luZmluaXRlVGltZVdpbmRvdyA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5uZXh0ID0gX3RoaXMubmV4dEluZmluaXRlVGltZVdpbmRvdztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLm5leHQgPSBfdGhpcy5uZXh0VGltZVdpbmRvdztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLm5leHRJbmZpbml0ZVRpbWVXaW5kb3cgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9ldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICAgICAgICBfZXZlbnRzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgaWYgKF9ldmVudHMubGVuZ3RoID4gdGhpcy5fYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgIF9ldmVudHMuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5uZXh0VGltZVdpbmRvdyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmVudHMucHVzaChuZXcgUmVwbGF5RXZlbnQodGhpcy5fZ2V0Tm93KCksIHZhbHVlKSk7XG4gICAgICAgICAgICB0aGlzLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cygpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2luZmluaXRlVGltZVdpbmRvdyA9IHRoaXMuX2luZmluaXRlVGltZVdpbmRvdztcbiAgICAgICAgdmFyIF9ldmVudHMgPSBfaW5maW5pdGVUaW1lV2luZG93ID8gdGhpcy5fZXZlbnRzIDogdGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKTtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICB2YXIgbGVuID0gX2V2ZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1N0b3BwZWQgfHwgdGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHN1YnNjcmliZXIgPSBuZXcgT2JzZXJ2ZU9uU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBzY2hlZHVsZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2luZmluaXRlVGltZVdpbmRvdykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW4gJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoX2V2ZW50c1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChfZXZlbnRzW2ldLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aGlzLnRocm93bkVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5fZ2V0Tm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuc2NoZWR1bGVyIHx8IHF1ZXVlKS5ub3coKTtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vdyA9IHRoaXMuX2dldE5vdygpO1xuICAgICAgICB2YXIgX2J1ZmZlclNpemUgPSB0aGlzLl9idWZmZXJTaXplO1xuICAgICAgICB2YXIgX3dpbmRvd1RpbWUgPSB0aGlzLl93aW5kb3dUaW1lO1xuICAgICAgICB2YXIgX2V2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgICAgdmFyIGV2ZW50c0NvdW50ID0gX2V2ZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBzcGxpY2VDb3VudCA9IDA7XG4gICAgICAgIHdoaWxlIChzcGxpY2VDb3VudCA8IGV2ZW50c0NvdW50KSB7XG4gICAgICAgICAgICBpZiAoKG5vdyAtIF9ldmVudHNbc3BsaWNlQ291bnRdLnRpbWUpIDwgX3dpbmRvd1RpbWUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwbGljZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50c0NvdW50ID4gX2J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIHNwbGljZUNvdW50ID0gTWF0aC5tYXgoc3BsaWNlQ291bnQsIGV2ZW50c0NvdW50IC0gX2J1ZmZlclNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGxpY2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgIF9ldmVudHMuc3BsaWNlKDAsIHNwbGljZUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2V2ZW50cztcbiAgICB9O1xuICAgIHJldHVybiBSZXBsYXlTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBSZXBsYXlTdWJqZWN0IH07XG52YXIgUmVwbGF5RXZlbnQgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVwbGF5RXZlbnQodGltZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy50aW1lID0gdGltZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gUmVwbGF5RXZlbnQ7XG59KCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVwbGF5U3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vU3ViamVjdCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG52YXIgQXN5bmNTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1N1YmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLmhhc05leHQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhpcy50aHJvd25FcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzQ29tcGxldGVkICYmIHRoaXMuaGFzTmV4dCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5fc3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5oYXNOZXh0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAoIXRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmVycm9yLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmhhc05leHQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHRoaXMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEFzeW5jU3ViamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTdWJqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIG5leHRIYW5kbGUgPSAxO1xudmFyIFJFU09MVkVEID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gLypAX19QVVJFX18qLyBQcm9taXNlLnJlc29sdmUoKTsgfSkoKTtcbnZhciBhY3RpdmVIYW5kbGVzID0ge307XG5mdW5jdGlvbiBmaW5kQW5kQ2xlYXJIYW5kbGUoaGFuZGxlKSB7XG4gICAgaWYgKGhhbmRsZSBpbiBhY3RpdmVIYW5kbGVzKSB7XG4gICAgICAgIGRlbGV0ZSBhY3RpdmVIYW5kbGVzW2hhbmRsZV07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgdmFyIEltbWVkaWF0ZSA9IHtcbiAgICBzZXRJbW1lZGlhdGU6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICB2YXIgaGFuZGxlID0gbmV4dEhhbmRsZSsrO1xuICAgICAgICBhY3RpdmVIYW5kbGVzW2hhbmRsZV0gPSB0cnVlO1xuICAgICAgICBSRVNPTFZFRC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZpbmRBbmRDbGVhckhhbmRsZShoYW5kbGUpICYmIGNiKCk7IH0pO1xuICAgICAgICByZXR1cm4gaGFuZGxlO1xuICAgIH0sXG4gICAgY2xlYXJJbW1lZGlhdGU6IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgICAgICAgZmluZEFuZENsZWFySGFuZGxlKGhhbmRsZSk7XG4gICAgfSxcbn07XG5leHBvcnQgdmFyIFRlc3RUb29scyA9IHtcbiAgICBwZW5kaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhY3RpdmVIYW5kbGVzKS5sZW5ndGg7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltbWVkaWF0ZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfSW1tZWRpYXRlLF9Bc3luY0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgSW1tZWRpYXRlIH0gZnJvbSAnLi4vdXRpbC9JbW1lZGlhdGUnO1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbnZhciBBc2FwQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzYXBBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXNhcEFjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzYXBBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVyLmFjdGlvbnMucHVzaCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZWQgfHwgKHNjaGVkdWxlci5zY2hlZHVsZWQgPSBJbW1lZGlhdGUuc2V0SW1tZWRpYXRlKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgbnVsbCkpKTtcbiAgICB9O1xuICAgIEFzYXBBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChkZWxheSAhPT0gbnVsbCAmJiBkZWxheSA+IDApIHx8IChkZWxheSA9PT0gbnVsbCAmJiB0aGlzLmRlbGF5ID4gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkLmNhbGwodGhpcywgc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlZHVsZXIuYWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIEltbWVkaWF0ZS5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgICAgICAgICBzY2hlZHVsZXIuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICByZXR1cm4gQXNhcEFjdGlvbjtcbn0oQXN5bmNBY3Rpb24pKTtcbmV4cG9ydCB7IEFzYXBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzYXBBY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9Bc2FwQWN0aW9uLF9Bc2FwU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFzYXBBY3Rpb24gfSBmcm9tICcuL0FzYXBBY3Rpb24nO1xuaW1wb3J0IHsgQXNhcFNjaGVkdWxlciB9IGZyb20gJy4vQXNhcFNjaGVkdWxlcic7XG5leHBvcnQgdmFyIGFzYXBTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIG5ldyBBc2FwU2NoZWR1bGVyKEFzYXBBY3Rpb24pO1xuZXhwb3J0IHZhciBhc2FwID0gYXNhcFNjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbnZhciBBc2FwU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzYXBTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXNhcFNjaGVkdWxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBc2FwU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBjb3VudCA9IGFjdGlvbnMubGVuZ3RoO1xuICAgICAgICBhY3Rpb24gPSBhY3Rpb24gfHwgYWN0aW9ucy5zaGlmdCgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoKytpbmRleCA8IGNvdW50ICYmIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGNvdW50ICYmIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzYXBTY2hlZHVsZXI7XG59KEFzeW5jU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc2FwU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc2FwU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQXN5bmNBY3Rpb24sX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luY1NjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gbmV3IEFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uKTtcbmV4cG9ydCB2YXIgYXN5bmMgPSBhc3luY1NjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNBY3Rpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG52YXIgQW5pbWF0aW9uRnJhbWVBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQW5pbWF0aW9uRnJhbWVBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5pbWF0aW9uRnJhbWVBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBbmltYXRpb25GcmFtZUFjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZXIuYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlZCB8fCAoc2NoZWR1bGVyLnNjaGVkdWxlZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHJldHVybiBzY2hlZHVsZXIuZmx1c2gobnVsbCk7IH0pKTtcbiAgICB9O1xuICAgIEFuaW1hdGlvbkZyYW1lQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB8fCAoZGVsYXkgPT09IG51bGwgJiYgdGhpcy5kZWxheSA+IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZWR1bGVyLmFjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCk7XG4gICAgICAgICAgICBzY2hlZHVsZXIuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICByZXR1cm4gQW5pbWF0aW9uRnJhbWVBY3Rpb247XG59KEFzeW5jQWN0aW9uKSk7XG5leHBvcnQgeyBBbmltYXRpb25GcmFtZUFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW5pbWF0aW9uRnJhbWVBY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9BbmltYXRpb25GcmFtZUFjdGlvbixfQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgQW5pbWF0aW9uRnJhbWVBY3Rpb24gfSBmcm9tICcuL0FuaW1hdGlvbkZyYW1lQWN0aW9uJztcbmltcG9ydCB7IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIH0gZnJvbSAnLi9BbmltYXRpb25GcmFtZVNjaGVkdWxlcic7XG5leHBvcnQgdmFyIGFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyBuZXcgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIoQW5pbWF0aW9uRnJhbWVBY3Rpb24pO1xuZXhwb3J0IHZhciBhbmltYXRpb25GcmFtZSA9IGFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWF0aW9uRnJhbWUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbnZhciBBbmltYXRpb25GcmFtZVNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBbmltYXRpb25GcmFtZVNjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbmltYXRpb25GcmFtZVNjaGVkdWxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBbmltYXRpb25GcmFtZVNjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgY291bnQgPSBhY3Rpb25zLmxlbmd0aDtcbiAgICAgICAgYWN0aW9uID0gYWN0aW9uIHx8IGFjdGlvbnMuc2hpZnQoKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKCsraW5kZXggPCBjb3VudCAmJiAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBjb3VudCAmJiAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBbmltYXRpb25GcmFtZVNjaGVkdWxlcjtcbn0oQXN5bmNTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRpb25GcmFtZVNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jQWN0aW9uLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG52YXIgVmlydHVhbFRpbWVTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVmlydHVhbFRpbWVTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlydHVhbFRpbWVTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBtYXhGcmFtZXMpIHtcbiAgICAgICAgaWYgKFNjaGVkdWxlckFjdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBTY2hlZHVsZXJBY3Rpb24gPSBWaXJ0dWFsQWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhGcmFtZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbWF4RnJhbWVzID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFNjaGVkdWxlckFjdGlvbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZnJhbWU7IH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1heEZyYW1lcyA9IG1heEZyYW1lcztcbiAgICAgICAgX3RoaXMuZnJhbWUgPSAwO1xuICAgICAgICBfdGhpcy5pbmRleCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFZpcnR1YWxUaW1lU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgYWN0aW9ucyA9IF9hLmFjdGlvbnMsIG1heEZyYW1lcyA9IF9hLm1heEZyYW1lcztcbiAgICAgICAgdmFyIGVycm9yLCBhY3Rpb247XG4gICAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9uc1swXSkgJiYgYWN0aW9uLmRlbGF5IDw9IG1heEZyYW1lcykge1xuICAgICAgICAgICAgYWN0aW9ucy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IGFjdGlvbi5kZWxheTtcbiAgICAgICAgICAgIGlmIChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpcnR1YWxUaW1lU2NoZWR1bGVyLmZyYW1lVGltZUZhY3RvciA9IDEwO1xuICAgIHJldHVybiBWaXJ0dWFsVGltZVNjaGVkdWxlcjtcbn0oQXN5bmNTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IFZpcnR1YWxUaW1lU2NoZWR1bGVyIH07XG52YXIgVmlydHVhbEFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhWaXJ0dWFsQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFZpcnR1YWxBY3Rpb24oc2NoZWR1bGVyLCB3b3JrLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaW5kZXggPSBzY2hlZHVsZXIuaW5kZXggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIF90aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLmluZGV4ID0gc2NoZWR1bGVyLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVmlydHVhbEFjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zY2hlZHVsZS5jYWxsKHRoaXMsIHN0YXRlLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGFjdGlvbiA9IG5ldyBWaXJ0dWFsQWN0aW9uKHRoaXMuc2NoZWR1bGVyLCB0aGlzLndvcmspO1xuICAgICAgICB0aGlzLmFkZChhY3Rpb24pO1xuICAgICAgICByZXR1cm4gYWN0aW9uLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBWaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsYXkgPSBzY2hlZHVsZXIuZnJhbWUgKyBkZWxheTtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgICBhY3Rpb25zLnNvcnQoVmlydHVhbEFjdGlvbi5zb3J0QWN0aW9ucyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgVmlydHVhbEFjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmlydHVhbEFjdGlvbi5wcm90b3R5cGUuX2V4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX2V4ZWN1dGUuY2FsbCh0aGlzLCBzdGF0ZSwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaXJ0dWFsQWN0aW9uLnNvcnRBY3Rpb25zID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEuZGVsYXkgPT09IGIuZGVsYXkpIHtcbiAgICAgICAgICAgIGlmIChhLmluZGV4ID09PSBiLmluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhLmluZGV4ID4gYi5pbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuZGVsYXkgPiBiLmRlbGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZpcnR1YWxBY3Rpb247XG59KEFzeW5jQWN0aW9uKSk7XG5leHBvcnQgeyBWaXJ0dWFsQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaXJ0dWFsVGltZVNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNPYnNlcnZhYmxlKG9iaikge1xuICAgIHJldHVybiAhIW9iaiAmJiAob2JqIGluc3RhbmNlb2YgT2JzZXJ2YWJsZSB8fCAodHlwZW9mIG9iai5saWZ0ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc09ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCgpIHtcbiAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ2FyZ3VtZW50IG91dCBvZiByYW5nZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBBcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yID0gQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJndW1lbnRPdXRPZlJhbmdlRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgRW1wdHlFcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW1wdHlFcnJvckltcGwoKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdubyBlbGVtZW50cyBpbiBzZXF1ZW5jZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdFbXB0eUVycm9yJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIEVtcHR5RXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBFbXB0eUVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIEVtcHR5RXJyb3IgPSBFbXB0eUVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVtcHR5RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgVGltZW91dEVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaW1lb3V0RXJyb3JJbXBsKCkge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnVGltZW91dCBoYXMgb2NjdXJyZWQnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFRpbWVvdXRFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIFRpbWVvdXRFcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBUaW1lb3V0RXJyb3IgPSBUaW1lb3V0RXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZW91dEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hcE9wZXJhdGlvbihzb3VyY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9qZWN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbi4gQXJlIHlvdSBsb29raW5nIGZvciBgbWFwVG8oKWA/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIE1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE1hcE9wZXJhdG9yIH07XG52YXIgTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnIHx8IF90aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9Bc3luY1N1YmplY3QsX29wZXJhdG9yc19tYXAsX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfaXNBcnJheSxfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICcuLi9Bc3luY1N1YmplY3QnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4uL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRDYWxsYmFjayhjYWxsYmFja0Z1bmMsIHJlc3VsdFNlbGVjdG9yLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKGlzU2NoZWR1bGVyKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICAgICAgc2NoZWR1bGVyID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYmluZENhbGxiYWNrKGNhbGxiYWNrRnVuYywgc2NoZWR1bGVyKS5hcHBseSh2b2lkIDAsIGFyZ3MpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgICB2YXIgc3ViamVjdDtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgICAgICAgICAgY2FsbGJhY2tGdW5jOiBjYWxsYmFja0Z1bmMsXG4gICAgICAgICAgICBzY2hlZHVsZXI6IHNjaGVkdWxlcixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgIGlmICghc3ViamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0Lm5leHQoaW5uZXJBcmdzLmxlbmd0aCA8PSAxID8gaW5uZXJBcmdzWzBdIDogaW5uZXJBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrRnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChbaGFuZGxlcl0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc3ViamVjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3ViamVjdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IGFyZ3MsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXJncyA9IHN0YXRlLmFyZ3MsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBwYXJhbXMgPSBzdGF0ZS5wYXJhbXM7XG4gICAgdmFyIGNhbGxiYWNrRnVuYyA9IHBhcmFtcy5jYWxsYmFja0Z1bmMsIGNvbnRleHQgPSBwYXJhbXMuY29udGV4dCwgc2NoZWR1bGVyID0gcGFyYW1zLnNjaGVkdWxlcjtcbiAgICB2YXIgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0O1xuICAgIGlmICghc3ViamVjdCkge1xuICAgICAgICBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBpbm5lckFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlubmVyQXJncy5sZW5ndGggPD0gMSA/IGlubmVyQXJnc1swXSA6IGlubmVyQXJncztcbiAgICAgICAgICAgIF90aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hOZXh0LCAwLCB7IHZhbHVlOiB2YWx1ZSwgc3ViamVjdDogc3ViamVjdCB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFja0Z1bmMuYXBwbHkoY29udGV4dCwgYXJncy5jb25jYXQoW2hhbmRsZXJdKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuYWRkKHN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoTmV4dChzdGF0ZSkge1xuICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlLCBzdWJqZWN0ID0gc3RhdGUuc3ViamVjdDtcbiAgICBzdWJqZWN0Lm5leHQodmFsdWUpO1xuICAgIHN1YmplY3QuY29tcGxldGUoKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoRXJyb3Ioc3RhdGUpIHtcbiAgICB2YXIgZXJyID0gc3RhdGUuZXJyLCBzdWJqZWN0ID0gc3RhdGUuc3ViamVjdDtcbiAgICBzdWJqZWN0LmVycm9yKGVycik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW5kQ2FsbGJhY2suanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9Bc3luY1N1YmplY3QsX29wZXJhdG9yc19tYXAsX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfaXNTY2hlZHVsZXIsX3V0aWxfaXNBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICcuLi9Bc3luY1N1YmplY3QnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4uL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmROb2RlQ2FsbGJhY2soY2FsbGJhY2tGdW5jLCByZXN1bHRTZWxlY3Rvciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIGlmIChpc1NjaGVkdWxlcihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpbmROb2RlQ2FsbGJhY2soY2FsbGJhY2tGdW5jLCBzY2hlZHVsZXIpLmFwcGx5KHZvaWQgMCwgYXJncykucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGlzQXJyYXkoYXJncykgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3MpIDogcmVzdWx0U2VsZWN0b3IoYXJncyk7IH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgc3ViamVjdDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJnczogYXJncyxcbiAgICAgICAgICAgIGNhbGxiYWNrRnVuYzogY2FsbGJhY2tGdW5jLFxuICAgICAgICAgICAgc2NoZWR1bGVyOiBzY2hlZHVsZXIsXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gcGFyYW1zLmNvbnRleHQ7XG4gICAgICAgICAgICB2YXIgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0O1xuICAgICAgICAgICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gaW5uZXJBcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QubmV4dChpbm5lckFyZ3MubGVuZ3RoIDw9IDEgPyBpbm5lckFyZ3NbMF0gOiBpbm5lckFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KFtoYW5kbGVyXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzdWJqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHsgcGFyYW1zOiBwYXJhbXMsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIGNvbnRleHQ6IGNvbnRleHQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN0YXRlLnBhcmFtcywgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIGNvbnRleHQgPSBzdGF0ZS5jb250ZXh0O1xuICAgIHZhciBjYWxsYmFja0Z1bmMgPSBwYXJhbXMuY2FsbGJhY2tGdW5jLCBhcmdzID0gcGFyYW1zLmFyZ3MsIHNjaGVkdWxlciA9IHBhcmFtcy5zY2hlZHVsZXI7XG4gICAgdmFyIHN1YmplY3QgPSBwYXJhbXMuc3ViamVjdDtcbiAgICBpZiAoIXN1YmplY3QpIHtcbiAgICAgICAgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXJyID0gaW5uZXJBcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaEVycm9yLCAwLCB7IGVycjogZXJyLCBzdWJqZWN0OiBzdWJqZWN0IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlubmVyQXJncy5sZW5ndGggPD0gMSA/IGlubmVyQXJnc1swXSA6IGlubmVyQXJncztcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoTmV4dCwgMCwgeyB2YWx1ZTogdmFsdWUsIHN1YmplY3Q6IHN1YmplY3QgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2tGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KFtoYW5kbGVyXSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaEVycm9yLCAwLCB7IGVycjogZXJyLCBzdWJqZWN0OiBzdWJqZWN0IH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkZChzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaE5leHQoYXJnKSB7XG4gICAgdmFyIHZhbHVlID0gYXJnLnZhbHVlLCBzdWJqZWN0ID0gYXJnLnN1YmplY3Q7XG4gICAgc3ViamVjdC5uZXh0KHZhbHVlKTtcbiAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaEVycm9yKGFyZykge1xuICAgIHZhciBlcnIgPSBhcmcuZXJyLCBzdWJqZWN0ID0gYXJnLnN1YmplY3Q7XG4gICAgc3ViamVjdC5lcnJvcihlcnIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmluZE5vZGVDYWxsYmFjay5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xudmFyIE91dGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhPdXRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3V0ZXJTdWJzY3JpYmVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PdXRlclN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbnZhciBJbm5lclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoSW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElubmVyU3Vic2NyaWJlcihwYXJlbnQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5vdXRlclZhbHVlID0gb3V0ZXJWYWx1ZTtcbiAgICAgICAgX3RoaXMub3V0ZXJJbmRleCA9IG91dGVySW5kZXg7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLCB2YWx1ZSwgdGhpcy5vdXRlckluZGV4LCB0aGlzLmluZGV4KyssIHRoaXMpO1xuICAgIH07XG4gICAgSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZXJyb3IsIHRoaXMpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBJbm5lclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IElubmVyU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5uZXJTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydCB2YXIgaXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIGdldFN5bWJvbEl0ZXJhdG9yKCk7XG5leHBvcnQgdmFyICQkaXRlcmF0b3IgPSBpdGVyYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zdWJzY3JpYmVUb0FycmF5LF9zdWJzY3JpYmVUb1Byb21pc2UsX3N1YnNjcmliZVRvSXRlcmFibGUsX3N1YnNjcmliZVRvT2JzZXJ2YWJsZSxfaXNBcnJheUxpa2UsX2lzUHJvbWlzZSxfaXNPYmplY3QsX3N5bWJvbF9pdGVyYXRvcixfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BcnJheSB9IGZyb20gJy4vc3Vic2NyaWJlVG9BcnJheSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Byb21pc2UgfSBmcm9tICcuL3N1YnNjcmliZVRvUHJvbWlzZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0l0ZXJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb0l0ZXJhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvT2JzZXJ2YWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vaXNPYmplY3QnO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9PYnNlcnZhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvQXJyYXkocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvUHJvbWlzZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvSXRlcmFibGUocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGlzT2JqZWN0KHJlc3VsdCkgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyByZXN1bHQgKyBcIidcIjtcbiAgICAgICAgdmFyIG1zZyA9IFwiWW91IHByb3ZpZGVkIFwiICsgdmFsdWUgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuXCJcbiAgICAgICAgICAgICsgJyBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgQXJyYXksIG9yIEl0ZXJhYmxlLic7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG8uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb09ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb09ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi9ob3N0UmVwb3J0RXJyb3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGhvc3RSZXBvcnRFcnJvcik7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9Qcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvSXRlcmFibGUgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS5kb25lKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfSW5uZXJTdWJzY3JpYmVyLF9zdWJzY3JpYmVUbyxfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9Jbm5lclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuL3N1YnNjcmliZVRvJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVUb1Jlc3VsdChvdXRlclN1YnNjcmliZXIsIHJlc3VsdCwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgaWYgKGlubmVyU3Vic2NyaWJlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlubmVyU3Vic2NyaWJlciA9IG5ldyBJbm5lclN1YnNjcmliZXIob3V0ZXJTdWJzY3JpYmVyLCBvdXRlclZhbHVlLCBvdXRlckluZGV4KTtcbiAgICB9XG4gICAgaWYgKGlubmVyU3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWJzY3JpYmUoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1YnNjcmliZVRvKHJlc3VsdCkoaW5uZXJTdWJzY3JpYmVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvUmVzdWx0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc1NjaGVkdWxlcixfdXRpbF9pc0FycmF5LF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQsX2Zyb21BcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvUmVzdWx0IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdCc7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG52YXIgTk9ORSA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3QoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgIHZhciBzY2hlZHVsZXIgPSB1bmRlZmluZWQ7XG4gICAgaWYgKGlzU2NoZWR1bGVyKG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkob2JzZXJ2YWJsZXNbMF0pKSB7XG4gICAgICAgIG9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHNjaGVkdWxlcikubGlmdChuZXcgQ29tYmluZUxhdGVzdE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSk7XG59XG52YXIgQ29tYmluZUxhdGVzdE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbWJpbmVMYXRlc3RPcGVyYXRvcihyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIENvbWJpbmVMYXRlc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucmVzdWx0U2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21iaW5lTGF0ZXN0T3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgQ29tYmluZUxhdGVzdE9wZXJhdG9yIH07XG52YXIgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29tYmluZUxhdGVzdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tYmluZUxhdGVzdFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy52YWx1ZXMgPSBbXTtcbiAgICAgICAgX3RoaXMub2JzZXJ2YWJsZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAob2JzZXJ2YWJsZSkge1xuICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKE5PTkUpO1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzLnB1c2gob2JzZXJ2YWJsZSk7XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZXMgPSB0aGlzLm9ic2VydmFibGVzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGxlbjtcbiAgICAgICAgICAgIHRoaXMudG9SZXNwb25kID0gbGVuO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gb2JzZXJ2YWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgb2JzZXJ2YWJsZSwgdW5kZWZpbmVkLCBpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICh1bnVzZWQpIHtcbiAgICAgICAgaWYgKCh0aGlzLmFjdGl2ZSAtPSAxKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChfb3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy52YWx1ZXM7XG4gICAgICAgIHZhciBvbGRWYWwgPSB2YWx1ZXNbb3V0ZXJJbmRleF07XG4gICAgICAgIHZhciB0b1Jlc3BvbmQgPSAhdGhpcy50b1Jlc3BvbmRcbiAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgOiBvbGRWYWwgPT09IE5PTkUgPyAtLXRoaXMudG9SZXNwb25kIDogdGhpcy50b1Jlc3BvbmQ7XG4gICAgICAgIHZhbHVlc1tvdXRlckluZGV4XSA9IGlubmVyVmFsdWU7XG4gICAgICAgIGlmICh0b1Jlc3BvbmQgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5UmVzdWx0U2VsZWN0b3IodmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZXMuc2xpY2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5UmVzdWx0U2VsZWN0b3IgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnJlc3VsdFNlbGVjdG9yLmFwcGx5KHRoaXMsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVPYnNlcnZhYmxlLF9zY2hlZHVsZVByb21pc2UsX3NjaGVkdWxlQXJyYXksX3NjaGVkdWxlSXRlcmFibGUsX3V0aWxfaXNJbnRlcm9wT2JzZXJ2YWJsZSxfdXRpbF9pc1Byb21pc2UsX3V0aWxfaXNBcnJheUxpa2UsX3V0aWxfaXNJdGVyYWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUoaW5wdXQpIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCB8fCBpbnB1dCkgKyAnIGlzIG5vdCBvYnNlcnZhYmxlJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24sX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgICAgICBzdWIuYWRkKG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpOyB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVByb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ICYmIHR5cGVvZiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdGVyYWJsZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBzdWIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvciAmJiB0eXBlb2YgaXRlcmF0b3IucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGRvbmU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSByZXN1bHQuZG9uZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG8sX3NjaGVkdWxlZF9zY2hlZHVsZWQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvJztcbmltcG9ydCB7IHNjaGVkdWxlZCB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZWQnO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20oaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG8oaW5wdXQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG8gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4vdXRpbC9zdWJzY3JpYmVUbyc7XG52YXIgU2ltcGxlSW5uZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbXBsZUlubmVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVJbm5lclN1YnNjcmliZXIocGFyZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW1wbGVJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZXJyb3IpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTaW1wbGVJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZUlubmVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2ltcGxlSW5uZXJTdWJzY3JpYmVyIH07XG52YXIgQ29tcGxleElubmVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb21wbGV4SW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbXBsZXhJbm5lclN1YnNjcmliZXIocGFyZW50LCBvdXRlclZhbHVlLCBvdXRlckluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgX3RoaXMub3V0ZXJWYWx1ZSA9IG91dGVyVmFsdWU7XG4gICAgICAgIF90aGlzLm91dGVySW5kZXggPSBvdXRlckluZGV4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLCB2YWx1ZSwgdGhpcy5vdXRlckluZGV4LCB0aGlzKTtcbiAgICB9O1xuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihlcnJvcik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wbGV4SW5uZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBDb21wbGV4SW5uZXJTdWJzY3JpYmVyIH07XG52YXIgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbXBsZU91dGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZU91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyIH07XG52YXIgQ29tcGxleE91dGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbXBsZXhPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQ29tcGxleE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChfb3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgX291dGVySW5kZXgsIF9pbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIENvbXBsZXhPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKF9pbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGxleE91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgQ29tcGxleE91dGVyU3Vic2NyaWJlciB9O1xuZXhwb3J0IGZ1bmN0aW9uIGlubmVyU3Vic2NyaWJlKHJlc3VsdCwgaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgaWYgKGlubmVyU3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWJzY3JpYmUoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICB0cnkge1xuICAgICAgICBzdWJzY3JpcHRpb24gPSBzdWJzY3JpYmVUbyhyZXN1bHQpKGlubmVyU3Vic2NyaWJlcik7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBpbm5lclN1YnNjcmliZXIuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5uZXJTdWJzY3JpYmUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9tYXAsX29ic2VydmFibGVfZnJvbSxfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb20nO1xuaW1wb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBTaW1wbGVJbm5lclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UucGlwZShtZXJnZU1hcChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gZnJvbShwcm9qZWN0KGEsIGkpKS5waXBlKG1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkpOyB9LCBjb25jdXJyZW50KSk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IE1lcmdlTWFwT3BlcmF0b3IocHJvamVjdCwgY29uY3VycmVudCkpOyB9O1xufVxudmFyIE1lcmdlTWFwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVyZ2VNYXBPcGVyYXRvcihwcm9qZWN0LCBjb25jdXJyZW50KSB7XG4gICAgICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICB9XG4gICAgTWVyZ2VNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChvYnNlcnZlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNZXJnZU1hcFN1YnNjcmliZXIob2JzZXJ2ZXIsIHRoaXMucHJvamVjdCwgdGhpcy5jb25jdXJyZW50KSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWVyZ2VNYXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBNZXJnZU1hcE9wZXJhdG9yIH07XG52YXIgTWVyZ2VNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1lcmdlTWFwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZXJnZU1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIGNvbmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvbmN1cnJlbnQgPSBjb25jdXJyZW50O1xuICAgICAgICBfdGhpcy5oYXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYnVmZmVyID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IDA7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA8IHRoaXMuY29uY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy5fdHJ5TmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5TmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QodmFsdWUsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmUrKztcbiAgICAgICAgdGhpcy5faW5uZXJTdWIocmVzdWx0KTtcbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2lubmVyU3ViID0gZnVuY3Rpb24gKGlzaCkge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKGlzaCwgaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKGlubmVyU3Vic2NyaXB0aW9uICE9PSBpbm5lclN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCAmJiB0aGlzLmJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dChidWZmZXIuc2hpZnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmUgPT09IDAgJiYgdGhpcy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1lcmdlTWFwU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBNZXJnZU1hcFN1YnNjcmliZXIgfTtcbmV4cG9ydCB2YXIgZmxhdE1hcCA9IG1lcmdlTWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9tZXJnZU1hcCxfdXRpbF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUFsbChjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VNYXAoaWRlbnRpdHksIGNvbmN1cnJlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VBbGwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9tZXJnZUFsbCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4vbWVyZ2VBbGwnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdEFsbCgpIHtcbiAgICByZXR1cm4gbWVyZ2VBbGwoMSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXRBbGwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9vZixfb3BlcmF0b3JzX2NvbmNhdEFsbCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvZiB9IGZyb20gJy4vb2YnO1xuaW1wb3J0IHsgY29uY2F0QWxsIH0gZnJvbSAnLi4vb3BlcmF0b3JzL2NvbmNhdEFsbCc7XG5leHBvcnQgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBjb25jYXRBbGwoKShvZi5hcHBseSh2b2lkIDAsIG9ic2VydmFibGVzKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9mcm9tLF9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IGVtcHR5IH0gZnJvbSAnLi9lbXB0eSc7XG5leHBvcnQgZnVuY3Rpb24gZGVmZXIob2JzZXJ2YWJsZUZhY3RvcnkpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGlucHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5wdXQgPSBvYnNlcnZhYmxlRmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IGlucHV0ID8gZnJvbShpbnB1dCkgOiBlbXB0eSgpO1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pc0FycmF5LF9vcGVyYXRvcnNfbWFwLF91dGlsX2lzT2JqZWN0LF9mcm9tIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uL3V0aWwvaXNPYmplY3QnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5leHBvcnQgZnVuY3Rpb24gZm9ya0pvaW4oKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgZmlyc3RfMSA9IHNvdXJjZXNbMF07XG4gICAgICAgIGlmIChpc0FycmF5KGZpcnN0XzEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ya0pvaW5JbnRlcm5hbChmaXJzdF8xLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNPYmplY3QoZmlyc3RfMSkgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGZpcnN0XzEpID09PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZpcnN0XzEpO1xuICAgICAgICAgICAgcmV0dXJuIGZvcmtKb2luSW50ZXJuYWwoa2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZmlyc3RfMVtrZXldOyB9KSwga2V5cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VzW3NvdXJjZXMubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIHJlc3VsdFNlbGVjdG9yXzEgPSBzb3VyY2VzLnBvcCgpO1xuICAgICAgICBzb3VyY2VzID0gKHNvdXJjZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkoc291cmNlc1swXSkpID8gc291cmNlc1swXSA6IHNvdXJjZXM7XG4gICAgICAgIHJldHVybiBmb3JrSm9pbkludGVybmFsKHNvdXJjZXMsIG51bGwpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiByZXN1bHRTZWxlY3Rvcl8xLmFwcGx5KHZvaWQgMCwgYXJncyk7IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcmtKb2luSW50ZXJuYWwoc291cmNlcywgbnVsbCk7XG59XG5mdW5jdGlvbiBmb3JrSm9pbkludGVybmFsKHNvdXJjZXMsIGtleXMpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGxlbiA9IHNvdXJjZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICB2YXIgY29tcGxldGVkID0gMDtcbiAgICAgICAgdmFyIGVtaXR0ZWQgPSAwO1xuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gZnJvbShzb3VyY2VzW2ldKTtcbiAgICAgICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoc291cmNlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkKys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQgPT09IGxlbiB8fCAhaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbWl0dGVkID09PSBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoa2V5cyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSwgaSkgeyByZXR1cm4gKHJlc3VsdFtrZXldID0gdmFsdWVzW2ldLCByZXN1bHQpOyB9LCB7fSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBfbG9vcF8xKGkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3JrSm9pbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNBcnJheSxfdXRpbF9pc0Z1bmN0aW9uLF9vcGVyYXRvcnNfbWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbnZhciB0b1N0cmluZyA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7IH0pKCk7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKGUpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbih0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucyk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXR1cFN1YnNjcmlwdGlvbihzb3VyY2VPYmosIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucykge1xuICAgIHZhciB1bnN1YnNjcmliZTtcbiAgICBpZiAoaXNFdmVudFRhcmdldChzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMSA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzIgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8yLm9mZihldmVudE5hbWUsIGhhbmRsZXIpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc05vZGVTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMyA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLmFkZExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzMucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc291cmNlT2JqICYmIHNvdXJjZU9iai5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNvdXJjZU9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24oc291cmNlT2JqW2ldLCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGV2ZW50IHRhcmdldCcpO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLmFkZCh1bnN1YnNjcmliZSk7XG59XG5mdW5jdGlvbiBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmouYWRkTGlzdGVuZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLm9uID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoub2ZmID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNFdmVudFRhcmdldChzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmouYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzQXJyYXksX3V0aWxfaXNGdW5jdGlvbixfb3BlcmF0b3JzX21hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50UGF0dGVybihhZGRIYW5kbGVyLCByZW1vdmVIYW5kbGVyLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50UGF0dGVybihhZGRIYW5kbGVyLCByZW1vdmVIYW5kbGVyKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBlW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5uZXh0KGUubGVuZ3RoID09PSAxID8gZVswXSA6IGUpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmV0VmFsdWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXRWYWx1ZSA9IGFkZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24ocmVtb3ZlSGFuZGxlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbW92ZUhhbmRsZXIoaGFuZGxlciwgcmV0VmFsdWUpOyB9O1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50UGF0dGVybi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaWRlbnRpdHksX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGUoaW5pdGlhbFN0YXRlT3JPcHRpb25zLCBjb25kaXRpb24sIGl0ZXJhdGUsIHJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlLCBzY2hlZHVsZXIpIHtcbiAgICB2YXIgcmVzdWx0U2VsZWN0b3I7XG4gICAgdmFyIGluaXRpYWxTdGF0ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gaW5pdGlhbFN0YXRlT3JPcHRpb25zO1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBvcHRpb25zLmluaXRpYWxTdGF0ZTtcbiAgICAgICAgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb247XG4gICAgICAgIGl0ZXJhdGUgPSBvcHRpb25zLml0ZXJhdGU7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucy5yZXN1bHRTZWxlY3RvciB8fCBpZGVudGl0eTtcbiAgICAgICAgc2NoZWR1bGVyID0gb3B0aW9ucy5zY2hlZHVsZXI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlID09PSB1bmRlZmluZWQgfHwgaXNTY2hlZHVsZXIocmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGUpKSB7XG4gICAgICAgIGluaXRpYWxTdGF0ZSA9IGluaXRpYWxTdGF0ZU9yT3B0aW9ucztcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBpZGVudGl0eTtcbiAgICAgICAgc2NoZWR1bGVyID0gcmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBpbml0aWFsU3RhdGVPck9wdGlvbnM7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAgIGl0ZXJhdGU6IGl0ZXJhdGUsXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiBjb25kaXRpb24sXG4gICAgICAgICAgICAgICAgcmVzdWx0U2VsZWN0b3I6IHJlc3VsdFNlbGVjdG9yLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBjb25kaXRpb25SZXN1bHQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uUmVzdWx0ID0gY29uZGl0aW9uKHN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghY29uZGl0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHJlc3VsdFNlbGVjdG9yKHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBpdGVyYXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgY29uZGl0aW9uID0gc3RhdGUuY29uZGl0aW9uO1xuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoc3RhdGUubmVlZEl0ZXJhdGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YXRlLnN0YXRlID0gc3RhdGUuaXRlcmF0ZShzdGF0ZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhdGUubmVlZEl0ZXJhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHZhciBjb25kaXRpb25SZXN1bHQgPSB2b2lkIDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25kaXRpb25SZXN1bHQgPSBjb25kaXRpb24oc3RhdGUuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb25kaXRpb25SZXN1bHQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB2YWx1ZTtcbiAgICB0cnkge1xuICAgICAgICB2YWx1ZSA9IHN0YXRlLnJlc3VsdFNlbGVjdG9yKHN0YXRlLnN0YXRlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZShzdGF0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2RlZmVyLF9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBkZWZlciB9IGZyb20gJy4vZGVmZXInO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiBpaWYoY29uZGl0aW9uLCB0cnVlUmVzdWx0LCBmYWxzZVJlc3VsdCkge1xuICAgIGlmICh0cnVlUmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgdHJ1ZVJlc3VsdCA9IEVNUFRZO1xuICAgIH1cbiAgICBpZiAoZmFsc2VSZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgICBmYWxzZVJlc3VsdCA9IEVNUFRZO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZGl0aW9uKCkgPyB0cnVlUmVzdWx0IDogZmFsc2VSZXN1bHQ7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWlmLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaXNBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi9pc0FycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBpc051bWVyaWModmFsKSB7XG4gICAgcmV0dXJuICFpc0FycmF5KHZhbCkgJiYgKHZhbCAtIHBhcnNlRmxvYXQodmFsKSArIDEpID49IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc051bWVyaWMuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9zY2hlZHVsZXJfYXN5bmMsX3V0aWxfaXNOdW1lcmljIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGlzTnVtZXJpYyB9IGZyb20gJy4uL3V0aWwvaXNOdW1lcmljJztcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnZhbChwZXJpb2QsIHNjaGVkdWxlcikge1xuICAgIGlmIChwZXJpb2QgPT09IHZvaWQgMCkge1xuICAgICAgICBwZXJpb2QgPSAwO1xuICAgIH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIGlmICghaXNOdW1lcmljKHBlcmlvZCkgfHwgcGVyaW9kIDwgMCkge1xuICAgICAgICBwZXJpb2QgPSAwO1xuICAgIH1cbiAgICBpZiAoIXNjaGVkdWxlciB8fCB0eXBlb2Ygc2NoZWR1bGVyLnNjaGVkdWxlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgc3Vic2NyaWJlci5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCBwZXJpb2QsIHsgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgY291bnRlcjogMCwgcGVyaW9kOiBwZXJpb2QgfSkpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBjb3VudGVyID0gc3RhdGUuY291bnRlciwgcGVyaW9kID0gc3RhdGUucGVyaW9kO1xuICAgIHN1YnNjcmliZXIubmV4dChjb3VudGVyKTtcbiAgICB0aGlzLnNjaGVkdWxlKHsgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgY291bnRlcjogY291bnRlciArIDEsIHBlcmlvZDogcGVyaW9kIH0sIHBlcmlvZCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNTY2hlZHVsZXIsX29wZXJhdG9yc19tZXJnZUFsbCxfZnJvbUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9tZXJnZUFsbCc7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgdmFyIHNjaGVkdWxlciA9IG51bGw7XG4gICAgdmFyIGxhc3QgPSBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAoaXNTY2hlZHVsZXIobGFzdCkpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgICAgIGlmIChvYnNlcnZhYmxlcy5sZW5ndGggPiAxICYmIHR5cGVvZiBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgbGFzdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSBudWxsICYmIG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMSAmJiBvYnNlcnZhYmxlc1swXSBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VBbGwoY29uY3VycmVudCkoZnJvbUFycmF5KG9ic2VydmFibGVzLCBzY2hlZHVsZXIpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9ub29wIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuZXhwb3J0IHZhciBORVZFUiA9IC8qQF9fUFVSRV9fKi8gbmV3IE9ic2VydmFibGUobm9vcCk7XG5leHBvcnQgZnVuY3Rpb24gbmV2ZXIoKSB7XG4gICAgcmV0dXJuIE5FVkVSO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV2ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9mcm9tLF91dGlsX2lzQXJyYXksX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuZXhwb3J0IGZ1bmN0aW9uIG9uRXJyb3JSZXN1bWVOZXh0KCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEVNUFRZO1xuICAgIH1cbiAgICB2YXIgZmlyc3QgPSBzb3VyY2VzWzBdLCByZW1haW5kZXIgPSBzb3VyY2VzLnNsaWNlKDEpO1xuICAgIGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KGZpcnN0KSkge1xuICAgICAgICByZXR1cm4gb25FcnJvclJlc3VtZU5leHQuYXBwbHkodm9pZCAwLCBmaXJzdCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViTmV4dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuYWRkKG9uRXJyb3JSZXN1bWVOZXh0LmFwcGx5KHZvaWQgMCwgcmVtYWluZGVyKS5zdWJzY3JpYmUoc3Vic2NyaWJlcikpOyB9O1xuICAgICAgICByZXR1cm4gZnJvbShmaXJzdCkuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9LFxuICAgICAgICAgICAgZXJyb3I6IHN1Yk5leHQsXG4gICAgICAgICAgICBjb21wbGV0ZTogc3ViTmV4dCxcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbkVycm9yUmVzdW1lTmV4dC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHBhaXJzKG9iaiwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChba2V5LCBvYmpba2V5XV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwgeyBrZXlzOiBrZXlzLCBpbmRleDogMCwgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgc3Vic2NyaXB0aW9uOiBzdWJzY3JpcHRpb24sIG9iajogb2JqIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBrZXlzID0gc3RhdGUua2V5cywgaW5kZXggPSBzdGF0ZS5pbmRleCwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIHN1YnNjcmlwdGlvbiA9IHN0YXRlLnN1YnNjcmlwdGlvbiwgb2JqID0gc3RhdGUub2JqO1xuICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgaWYgKGluZGV4IDwga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChba2V5LCBvYmpba2V5XV0pO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLmFkZCh0aGlzLnNjaGVkdWxlKHsga2V5czoga2V5cywgaW5kZXg6IGluZGV4ICsgMSwgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgc3Vic2NyaXB0aW9uOiBzdWJzY3JpcHRpb24sIG9iajogb2JqIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhaXJzLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdChwcmVkLCB0aGlzQXJnKSB7XG4gICAgZnVuY3Rpb24gbm90UHJlZCgpIHtcbiAgICAgICAgcmV0dXJuICEobm90UHJlZC5wcmVkLmFwcGx5KG5vdFByZWQudGhpc0FyZywgYXJndW1lbnRzKSk7XG4gICAgfVxuICAgIG5vdFByZWQucHJlZCA9IHByZWQ7XG4gICAgbm90UHJlZC50aGlzQXJnID0gdGhpc0FyZztcbiAgICByZXR1cm4gbm90UHJlZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlck9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBGaWx0ZXJPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIEZpbHRlck9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRmlsdGVyU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyT3BlcmF0b3I7XG59KCkpO1xudmFyIEZpbHRlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRmlsdGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBGaWx0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9ub3QsX3V0aWxfc3Vic2NyaWJlVG8sX29wZXJhdG9yc19maWx0ZXIsX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbm90IH0gZnJvbSAnLi4vdXRpbC9ub3QnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvJztcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJy4uL29wZXJhdG9ycy9maWx0ZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpdGlvbihzb3VyY2UsIHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBbXG4gICAgICAgIGZpbHRlcihwcmVkaWNhdGUsIHRoaXNBcmcpKG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZVRvKHNvdXJjZSkpKSxcbiAgICAgICAgZmlsdGVyKG5vdChwcmVkaWNhdGUsIHRoaXNBcmcpKShuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUbyhzb3VyY2UpKSlcbiAgICBdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGl0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc0FycmF5LF9mcm9tQXJyYXksX091dGVyU3Vic2NyaWJlcixfdXRpbF9zdWJzY3JpYmVUb1Jlc3VsdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9PdXRlclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmV4cG9ydCBmdW5jdGlvbiByYWNlKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChvYnNlcnZhYmxlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkob2JzZXJ2YWJsZXNbMF0pKSB7XG4gICAgICAgICAgICBvYnNlcnZhYmxlcyA9IG9ic2VydmFibGVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9ic2VydmFibGVzWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHVuZGVmaW5lZCkubGlmdChuZXcgUmFjZU9wZXJhdG9yKCkpO1xufVxudmFyIFJhY2VPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSYWNlT3BlcmF0b3IoKSB7XG4gICAgfVxuICAgIFJhY2VPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFJhY2VTdWJzY3JpYmVyKHN1YnNjcmliZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBSYWNlT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgUmFjZU9wZXJhdG9yIH07XG52YXIgUmFjZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmFjZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmFjZVN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmhhc0ZpcnN0ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm9ic2VydmFibGVzID0gW107XG4gICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSYWNlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAob2JzZXJ2YWJsZSkge1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzLnB1c2gob2JzZXJ2YWJsZSk7XG4gICAgfTtcbiAgICBSYWNlU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZXMgPSB0aGlzLm9ic2VydmFibGVzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbiAmJiAhdGhpcy5oYXNGaXJzdDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBvYnNlcnZhYmxlc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgb2JzZXJ2YWJsZSwgdW5kZWZpbmVkLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9ic2VydmFibGVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmFjZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoX291dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0ZpcnN0KSB7XG4gICAgICAgICAgICB0aGlzLmhhc0ZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IG91dGVySW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuc3Vic2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmFjZVN1YnNjcmliZXI7XG59KE91dGVyU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgUmFjZVN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhY2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiByYW5nZShzdGFydCwgY291bnQsIHNjaGVkdWxlcikge1xuICAgIGlmIChzdGFydCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmIChjb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb3VudCA9IHN0YXJ0O1xuICAgICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50ID0gc3RhcnQ7XG4gICAgICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHtcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsIGNvdW50OiBjb3VudCwgc3RhcnQ6IHN0YXJ0LCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXgrKyA+PSBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoY3VycmVudCsrKTtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBzdGFydCA9IHN0YXRlLnN0YXJ0LCBpbmRleCA9IHN0YXRlLmluZGV4LCBjb3VudCA9IHN0YXRlLmNvdW50LCBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlcjtcbiAgICBpZiAoaW5kZXggPj0gY291bnQpIHtcbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN1YnNjcmliZXIubmV4dChzdGFydCk7XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhdGUuaW5kZXggPSBpbmRleCArIDE7XG4gICAgc3RhdGUuc3RhcnQgPSBzdGFydCArIDE7XG4gICAgdGhpcy5zY2hlZHVsZShzdGF0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYW5nZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3NjaGVkdWxlcl9hc3luYyxfdXRpbF9pc051bWVyaWMsX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgaXNOdW1lcmljIH0gZnJvbSAnLi4vdXRpbC9pc051bWVyaWMnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihkdWVUaW1lLCBwZXJpb2RPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGR1ZVRpbWUgPT09IHZvaWQgMCkge1xuICAgICAgICBkdWVUaW1lID0gMDtcbiAgICB9XG4gICAgdmFyIHBlcmlvZCA9IC0xO1xuICAgIGlmIChpc051bWVyaWMocGVyaW9kT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHBlcmlvZCA9IE51bWJlcihwZXJpb2RPclNjaGVkdWxlcikgPCAxICYmIDEgfHwgTnVtYmVyKHBlcmlvZE9yU2NoZWR1bGVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTY2hlZHVsZXIocGVyaW9kT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IHBlcmlvZE9yU2NoZWR1bGVyO1xuICAgIH1cbiAgICBpZiAoIWlzU2NoZWR1bGVyKHNjaGVkdWxlcikpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZHVlID0gaXNOdW1lcmljKGR1ZVRpbWUpXG4gICAgICAgICAgICA/IGR1ZVRpbWVcbiAgICAgICAgICAgIDogKCtkdWVUaW1lIC0gc2NoZWR1bGVyLm5vdygpKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgZHVlLCB7XG4gICAgICAgICAgICBpbmRleDogMCwgcGVyaW9kOiBwZXJpb2QsIHN1YnNjcmliZXI6IHN1YnNjcmliZXJcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBpbmRleCA9IHN0YXRlLmluZGV4LCBwZXJpb2QgPSBzdGF0ZS5wZXJpb2QsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyO1xuICAgIHN1YnNjcmliZXIubmV4dChpbmRleCk7XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAocGVyaW9kID09PSAtMSkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICBzdGF0ZS5pbmRleCA9IGluZGV4ICsgMTtcbiAgICB0aGlzLnNjaGVkdWxlKHN0YXRlLCBwZXJpb2QpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9mcm9tLF9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9lbXB0eSc7XG5leHBvcnQgZnVuY3Rpb24gdXNpbmcocmVzb3VyY2VGYWN0b3J5LCBvYnNlcnZhYmxlRmFjdG9yeSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgcmVzb3VyY2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXNvdXJjZSA9IHJlc291cmNlRmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG9ic2VydmFibGVGYWN0b3J5KHJlc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSByZXN1bHQgPyBmcm9tKHJlc3VsdCkgOiBFTVBUWTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2luZy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2Zyb21BcnJheSxfdXRpbF9pc0FycmF5LF9TdWJzY3JpYmVyLF8uLl9pbnRlcm5hbF9zeW1ib2xfaXRlcmF0b3IsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uLy4uL2ludGVybmFsL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIFNpbXBsZUlubmVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gemlwKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHVuZGVmaW5lZCkubGlmdChuZXcgWmlwT3BlcmF0b3IocmVzdWx0U2VsZWN0b3IpKTtcbn1cbnZhciBaaXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBaaXBPcGVyYXRvcihyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIFppcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgWmlwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnJlc3VsdFNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgWmlwT3BlcmF0b3IgfTtcbnZhciBaaXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFppcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gWmlwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcmVzdWx0U2VsZWN0b3IsIHZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgICAgIF90aGlzLml0ZXJhdG9ycyA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy5yZXN1bHRTZWxlY3RvciA9ICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpID8gcmVzdWx0U2VsZWN0b3IgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9ycyA9IHRoaXMuaXRlcmF0b3JzO1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9ycy5wdXNoKG5ldyBTdGF0aWNBcnJheUl0ZXJhdG9yKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9ycy5wdXNoKG5ldyBTdGF0aWNJdGVyYXRvcih2YWx1ZVtTeW1ib2xfaXRlcmF0b3JdKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGl0ZXJhdG9ycy5wdXNoKG5ldyBaaXBCdWZmZXJJdGVyYXRvcih0aGlzLmRlc3RpbmF0aW9uLCB0aGlzLCB2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpdGVyYXRvcnMgPSB0aGlzLml0ZXJhdG9ycztcbiAgICAgICAgdmFyIGxlbiA9IGl0ZXJhdG9ycy5sZW5ndGg7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlID0gbGVuO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaV07XG4gICAgICAgICAgICBpZiAoaXRlcmF0b3Iuc3RpbGxVbnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChpdGVyYXRvci5zdWJzY3JpYmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlJbmFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUtLTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLmNoZWNrSXRlcmF0b3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlcmF0b3JzID0gdGhpcy5pdGVyYXRvcnM7XG4gICAgICAgIHZhciBsZW4gPSBpdGVyYXRvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLmhhc1ZhbHVlID09PSAnZnVuY3Rpb24nICYmICFpdGVyYXRvci5oYXNWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaG91bGRDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaV07XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKGl0ZXJhdG9yLmhhc0NvbXBsZXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzLnB1c2gocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5cmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRDb21wbGV0ZSkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeXJlc3VsdFNlbGVjdG9yID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucmVzdWx0U2VsZWN0b3IuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFppcFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFppcFN1YnNjcmliZXIgfTtcbnZhciBTdGF0aWNJdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0aWNJdGVyYXRvcihpdGVyYXRvcikge1xuICAgICAgICB0aGlzLml0ZXJhdG9yID0gaXRlcmF0b3I7XG4gICAgICAgIHRoaXMubmV4dFJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICB9XG4gICAgU3RhdGljSXRlcmF0b3IucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFN0YXRpY0l0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5uZXh0UmVzdWx0O1xuICAgICAgICB0aGlzLm5leHRSZXN1bHQgPSB0aGlzLml0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIFN0YXRpY0l0ZXJhdG9yLnByb3RvdHlwZS5oYXNDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXh0UmVzdWx0ID0gdGhpcy5uZXh0UmVzdWx0O1xuICAgICAgICByZXR1cm4gQm9vbGVhbihuZXh0UmVzdWx0ICYmIG5leHRSZXN1bHQuZG9uZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGljSXRlcmF0b3I7XG59KCkpO1xudmFyIFN0YXRpY0FycmF5SXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGljQXJyYXlJdGVyYXRvcihhcnJheSkge1xuICAgICAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIH1cbiAgICBTdGF0aWNBcnJheUl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2xfaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHZhciBhcnJheSA9IHRoaXMuYXJyYXk7XG4gICAgICAgIHJldHVybiBpIDwgdGhpcy5sZW5ndGggPyB7IHZhbHVlOiBhcnJheVtpXSwgZG9uZTogZmFsc2UgfSA6IHsgdmFsdWU6IG51bGwsIGRvbmU6IHRydWUgfTtcbiAgICB9O1xuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcnJheS5sZW5ndGggPiB0aGlzLmluZGV4O1xuICAgIH07XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUuaGFzQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcnJheS5sZW5ndGggPT09IHRoaXMuaW5kZXg7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGljQXJyYXlJdGVyYXRvcjtcbn0oKSk7XG52YXIgWmlwQnVmZmVySXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoWmlwQnVmZmVySXRlcmF0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gWmlwQnVmZmVySXRlcmF0b3IoZGVzdGluYXRpb24sIHBhcmVudCwgb2JzZXJ2YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5vYnNlcnZhYmxlID0gb2JzZXJ2YWJsZTtcbiAgICAgICAgX3RoaXMuc3RpbGxVbnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgX3RoaXMuaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2xfaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAwICYmIHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG51bGwsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBidWZmZXIuc2hpZnQoKSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIubGVuZ3RoID4gMDtcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5oYXNDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5sZW5ndGggPT09IDAgJiYgdGhpcy5pc0NvbXBsZXRlO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUluYWN0aXZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5idWZmZXIucHVzaChpbm5lclZhbHVlKTtcbiAgICAgICAgdGhpcy5wYXJlbnQuY2hlY2tJdGVyYXRvcnMoKTtcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpbm5lclN1YnNjcmliZSh0aGlzLm9ic2VydmFibGUsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcykpO1xuICAgIH07XG4gICAgcmV0dXJuIFppcEJ1ZmZlckl0ZXJhdG9yO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXppcC5qcy5tYXBcbiIsImV4cG9ydCBjb25zdCBCT0FSRF9XSURUSCA9IDUwO1xuZXhwb3J0IGNvbnN0IEJPQVJEX0hFSUdIVCA9IDI1O1xuZXhwb3J0IGNvbnN0IEJMT0NLX1NJWkUgPSAyMDtcbmV4cG9ydCBjb25zdCBGUkFNRV9SQVRFID0gMTA7XG5leHBvcnQgY29uc3QgSU5JVF9TTkFLRV9TSVpFID0gNTtcblxuZXhwb3J0IGVudW0gR2FtZU92ZXIge1xuICBISVRfU0VMRiA9IDEsXG4gIEhJVF9XQUxMID0gMixcbn1cblxuZXhwb3J0IGVudW0gU25ha2VUeXBlIHtcbiAgVklQRVIgPSAnVmlwZXInLFxuICBNQU1CQSA9ICdNYW1iYScsXG4gIERJU1BIT0xJRFVTID0gJ0Rpc3Bob2xpZHVzJyxcbiAgQU5BQ09OREEgPSAnQW5hY29uZGEnLFxuICBQWVRIT04gPSAnUHl0aG9uJyxcbiAgQU5JTElVUyA9ICdBbmlsaXVzJyxcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfR0FNRV9DT05GSUc6IEdhbWVDb25maWcgPSB7XG4gIHNuYWtlVHlwZTogU25ha2VUeXBlLlZJUEVSLFxuICBzbmFrZUNvdW50OiAyLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVDb25maWcge1xuICBzbmFrZVR5cGU6IFNuYWtlVHlwZTtcbiAgc25ha2VDb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgU05BS0VTID0gW1xuICB7XG4gICAgdHlwZTogU25ha2VUeXBlLlZJUEVSLFxuICAgIHBhdHRlcm46IFtcbiAgICAgICdibHVlJyxcbiAgICAgICdncmV5JyxcbiAgICBdXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBTbmFrZVR5cGUuTUFNQkEsXG4gICAgcGF0dGVybjogW1xuICAgICAgJ2dyZWVuJyxcbiAgICBdXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBTbmFrZVR5cGUuRElTUEhPTElEVVMsXG4gICAgcGF0dGVybjogW1xuICAgICAgJ3JlZCcsXG4gICAgICAnYmx1ZScsXG4gICAgICAncmVkJyxcbiAgICBdXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBTbmFrZVR5cGUuQU5BQ09OREEsXG4gICAgcGF0dGVybjogW1xuICAgICAgJ3llbGxvdycsXG4gICAgICAnZ3JleScsXG4gICAgXVxuICB9LFxuICB7XG4gICAgdHlwZTogU25ha2VUeXBlLlBZVEhPTixcbiAgICBwYXR0ZXJuOiBbXG4gICAgICAnZ3JleScsXG4gICAgICAnZGFya2dyZXknLFxuICAgIF1cbiAgfSxcbiAge1xuICAgIHR5cGU6IFNuYWtlVHlwZS5BTklMSVVTLFxuICAgIHBhdHRlcm46IFtcbiAgICAgICdwaW5rJyxcbiAgICAgICdibHVlJyxcbiAgICAgICdvcmFuZ2UnLFxuICAgICAgJ3BpbmsnLFxuICAgIF1cbiAgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBNQVhfU05BS0VTX0NPVU5UID0gNTtcblxuZXhwb3J0IGVudW0gQ29sb3Ige1xuICBHUklEID0gJ3JnYigzOCwgMzgsIDM4KScsXG4gIFNOQUtFX0hFQUQgPSAnd2hpdGUnLFxuICBTTkFLRV9IRUFEX1NFTEVDVEVEID0gJ3JlZCcsXG4gIFNOQUtFX0hFQURfVEVYVCA9ICdibGFjaycsXG4gIFNOQUtFX0hFQURfVEVYVF9TRUxFQ1RFRCA9ICd3aGl0ZScsXG4gIEZPT0QgPSAnbGlnaHRncmVlbicsXG4gIFdBTEwgPSAncmVkJyxcbn1cblxuZXhwb3J0IGVudW0gRGlyZWN0aW9uIHtcbiAgVVAgPSAxLFxuICBET1dOLFxuICBMRUZULFxuICBSSUdIVCxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb29yZHMge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGRpcmVjdGlvbktleU1hcCA9IG5ldyBNYXA8c3RyaW5nLCBEaXJlY3Rpb24+KCk7XG5kaXJlY3Rpb25LZXlNYXAuc2V0KCdBcnJvd0xlZnQnLCBEaXJlY3Rpb24uTEVGVCk7XG5kaXJlY3Rpb25LZXlNYXAuc2V0KCdBcnJvd1VwJywgRGlyZWN0aW9uLlVQKTtcbmRpcmVjdGlvbktleU1hcC5zZXQoJ0Fycm93UmlnaHQnLCBEaXJlY3Rpb24uUklHSFQpO1xuZGlyZWN0aW9uS2V5TWFwLnNldCgnQXJyb3dEb3duJywgRGlyZWN0aW9uLkRPV04pO1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0ZWRTbmFrZUtleU1hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG5zZWxlY3RlZFNuYWtlS2V5TWFwLnNldCgnRGlnaXQxJywgMSk7XG5zZWxlY3RlZFNuYWtlS2V5TWFwLnNldCgnRGlnaXQyJywgMik7XG5zZWxlY3RlZFNuYWtlS2V5TWFwLnNldCgnRGlnaXQzJywgMyk7XG5zZWxlY3RlZFNuYWtlS2V5TWFwLnNldCgnRGlnaXQ0JywgNCk7XG5zZWxlY3RlZFNuYWtlS2V5TWFwLnNldCgnRGlnaXQ1JywgNSk7XG4iLCJpbXBvcnQge1JlcGxheVN1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtDb29yZHMsIERFRkFVTFRfR0FNRV9DT05GSUcsIEdhbWVPdmVyLCBTbmFrZVR5cGV9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQge2dldFJhbmRvbUNvb3Jkc30gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQge1NuYWtlfSBmcm9tICcuL3NuYWtlJztcblxuZXhwb3J0IGNsYXNzIEJvYXJkIHtcbiAgc25ha2VzPzogU25ha2VbXTtcbiAgYm91bmRzOiBDb29yZHM7XG4gIHNlbGVjdGVkU25ha2UgPSAwO1xuICBmb29kOiBDb29yZHNbXSA9IFtdO1xuICB3YWxsOiBDb29yZHNbXSA9IFtdO1xuICBwcml2YXRlIF9zbmFrZUNvdW50ID0gREVGQVVMVF9HQU1FX0NPTkZJRy5zbmFrZUNvdW50O1xuICBwcml2YXRlIF9zbmFrZVR5cGUgPSBERUZBVUxUX0dBTUVfQ09ORklHLnNuYWtlVHlwZTtcbiAgZGVhdGhSZWFzb24kID0gbmV3IFJlcGxheVN1YmplY3Q8R2FtZU92ZXJ8bnVsbD4oMSk7XG5cbiAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICB0aGlzLmJvdW5kcyA9IHt4OiB3aWR0aCwgeTogaGVpZ2h0fTtcbiAgfVxuXG4gIGdldCB3aWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmJvdW5kcy54O1xuICB9XG5cbiAgZ2V0IGhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmJvdW5kcy55O1xuICB9XG5cbiAgZ2V0IHNuYWtlQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fc25ha2VDb3VudDtcbiAgfVxuXG4gIGdldCBzbmFrZVR5cGUoKTogU25ha2VUeXBlIHtcbiAgICByZXR1cm4gdGhpcy5fc25ha2VUeXBlO1xuICB9XG5cbiAgc2V0U25ha2VUeXBlKHNuYWtlVHlwZTogU25ha2VUeXBlKSB7XG4gICAgdGhpcy5fc25ha2VUeXBlID0gc25ha2VUeXBlO1xuICB9XG5cbiAgc2V0U25ha2VDb3VudChzbmFrZUNvdW50OiBudW1iZXIpIHtcbiAgICB0aGlzLl9zbmFrZUNvdW50ID0gc25ha2VDb3VudDtcbiAgfVxuXG4gIHJlc2V0Qm9hcmQoKSB7XG4gICAgdGhpcy53YWxsID0gW107XG4gICAgdGhpcy5kZWF0aFJlYXNvbiQubmV4dChudWxsKTtcbiAgfVxuXG4gIGNhblByb2NlZWQoKTogYm9vbGVhbiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc25ha2UgPSB0aGlzLnNuYWtlc1tpXTtcbiAgICAgIGNvbnN0IGhpdFdhbGwgPSB0aGlzLmJ1bXBUb1dhbGwoc25ha2UubmV3SGVhZCk7XG4gICAgICBjb25zdCBoaXRTZWxmID0gdGhpcy5idW1wVG9TbmFrZShzbmFrZS5uZXdIZWFkKTtcbiAgICAgIGlmIChoaXRXYWxsKSB7XG4gICAgICAgIHRoaXMuZGVhdGhSZWFzb24kLm5leHQoR2FtZU92ZXIuSElUX1dBTEwpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGhpdFNlbGYpIHtcbiAgICAgICAgdGhpcy5kZWF0aFJlYXNvbiQubmV4dChHYW1lT3Zlci5ISVRfU0VMRik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwcml2YXRlIGJ1bXBUb1NuYWtlKG5ld0hlYWQ6IENvb3Jkcyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNuYWtlcy5zb21lKHNuYWtlID0+IHtcbiAgICAgIHJldHVybiBzbmFrZS5zZXF1ZW5jZS5zb21lKFxuICAgICAgICAgIHNlZ21lbnQgPT4gc2VnbWVudC54ID09PSBuZXdIZWFkLnggJiYgc2VnbWVudC55ID09PSBuZXdIZWFkLnkpO1xuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIGJ1bXBUb1dhbGwobmV3SGVhZDogQ29vcmRzKTogYm9vbGVhbiB7XG4gICAgY29uc3QgYnVtcGVkVG9FZGdlcyA9IG5ld0hlYWQueCA8IDAgfHwgbmV3SGVhZC55IDwgMCB8fFxuICAgICAgICBuZXdIZWFkLnggPj0gdGhpcy5ib3VuZHMueCB8fCBuZXdIZWFkLnkgPj0gdGhpcy5ib3VuZHMueTtcbiAgICBjb25zdCBidW1wZWRUb0N1c3RvbVdhbGxzID1cbiAgICAgICAgdGhpcy53YWxsLmZpbmQoKHt4LCB5fSkgPT4geCA9PT0gbmV3SGVhZC54ICYmIHkgPT09IG5ld0hlYWQueSk7XG4gICAgcmV0dXJuIGJ1bXBlZFRvRWRnZXMgfHwgISFidW1wZWRUb0N1c3RvbVdhbGxzO1xuICB9XG5cbiAgc2V0V2FsbHMoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICBjb25zdCBibG9jazogQ29vcmRzID0ge3gsIHl9O1xuXG4gICAgY29uc3QgaXNOb3RBbHJlYWR5V2FsbCA9XG4gICAgICAgICF0aGlzLndhbGwuZmluZCgoYmxvY2spID0+IGJsb2NrLnggPT09IHggJiYgYmxvY2sueSA9PT0geSk7XG4gICAgY29uc3QgaXNOb3RQYXJ0b2ZTbmFrZSA9ICF0aGlzLnNuYWtlcy5maW5kKHNuYWtlID0+IHtcbiAgICAgIHJldHVybiBzbmFrZS5zZXF1ZW5jZS5maW5kKHNlZ21lbnQgPT4gc2VnbWVudC54ID09PSB4ICYmIHNlZ21lbnQueSA9PT0geSk7XG4gICAgfSk7XG4gICAgaWYgKGlzTm90QWxyZWFkeVdhbGwgJiYgaXNOb3RQYXJ0b2ZTbmFrZSkge1xuICAgICAgdGhpcy53YWxsLnB1c2goYmxvY2spO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVdhbGxzKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgY29uc3QgaW5kZXggPVxuICAgICAgICB0aGlzLndhbGwuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2sueCA9PT0geCAmJiBibG9jay55ID09PSB5KTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy53YWxsLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgdGljaygpOiBib29sZWFuIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc25ha2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzbmFrZSA9IHRoaXMuc25ha2VzW2ldO1xuICAgICAgc25ha2Uuc3RlcCgpO1xuXG4gICAgICBjb25zdCBmb29kSW5kZXggPSB0aGlzLmZvb2QuZmluZEluZGV4KFxuICAgICAgICAgIChpdGVtKSA9PiBpdGVtLnggPT09IHNuYWtlLm5ld0hlYWQueCAmJiBpdGVtLnkgPT09IHNuYWtlLm5ld0hlYWQueSk7XG5cbiAgICAgIGlmIChmb29kSW5kZXggPj0gMCkge1xuICAgICAgICBzbmFrZS5ncm93KCk7XG4gICAgICAgIHRoaXMuZm9vZC5zcGxpY2UoZm9vZEluZGV4LCAxKTtcbiAgICAgICAgLy8gVE9ETzogZXhjbHVkZSBzbmFrZXMgYW5kIHdhbGxzXG4gICAgICAgIHRoaXMuZm9vZC5wdXNoKGdldFJhbmRvbUNvb3Jkcyh0aGlzLmJvdW5kcywgW10pKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSIsImltcG9ydCB7dGFrZX0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQge0JMT0NLX1NJWkUsIEJPQVJEX0hFSUdIVCwgQk9BUkRfV0lEVEgsIENvbG9yLCBkaXJlY3Rpb25LZXlNYXAsIEdhbWVPdmVyLCBzZWxlY3RlZFNuYWtlS2V5TWFwfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHtDb29yZHMsIFNOQUtFU30gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7Z2V0RnVsbFBhdHRlcm4sIGdldFJhbmRvbUNvb3JkcywgZ2V0U3RhcnRpbmdDb29yZHMsIHJlcXVlc3RJbnRlcnZhbH0gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQge0RpYWxvZywgRGlhbG9nU3RhdGV9IGZyb20gJy4uL3VpL2RpYWxvZyc7XG5cbmltcG9ydCB7Qm9hcmR9IGZyb20gJy4vYm9hcmQnO1xuaW1wb3J0IHtTbmFrZX0gZnJvbSAnLi9zbmFrZSc7XG5cbmNvbnN0IElOVEVSVkFMID0gNTAwO1xuXG5leHBvcnQgY2xhc3MgUGFnZSB7XG4gIGludGVydmFsSWQ6IGFueTsgIC8vIGZpeFxuICBib2FyZDogQm9hcmQ7XG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBzcGVlZD86IG51bWJlcjtcbiAgZWF0Q291bnQgPSAwO1xuICBkaWFsb2cgPSBuZXcgRGlhbG9nKCk7XG4gIGZvb2RJbmZvOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb29kJyk7XG4gIHdhbGxJbmZvOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53YWxsJyk7XG4gIGdhbWVPdmVyQ29udGFpbmVyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lb3ZlcicpO1xuICBpc0dhbWVQbGF5aW5nID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgIHRoaXMuYm9hcmQgPSBuZXcgQm9hcmQoQk9BUkRfV0lEVEgsIEJPQVJEX0hFSUdIVCk7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHRoaXMuZHJhd0dyaWQoKTtcbiAgfVxuXG4gIC8vIEFkZCB0aHJvdHRsZVxuICBvbktleURvd24gPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBkaXJlY3Rpb25LZXlNYXAuZ2V0KGV2ZW50LmNvZGUpO1xuICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHNuYWtlID0gdGhpcy5ib2FyZC5zbmFrZXMuZmluZChcbiAgICAgICAgICAoXywgaW5kZXgpID0+IGluZGV4ID09PSB0aGlzLmJvYXJkLnNlbGVjdGVkU25ha2UpO1xuICAgICAgc25ha2Uuc2V0RGlyZWN0aW9uKGRpcmVjdGlvbik7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gc2VsZWN0ZWRTbmFrZUtleU1hcC5nZXQoZXZlbnQuY29kZSk7XG4gICAgaWYgKGluZGV4KSB0aGlzLmJvYXJkLnNlbGVjdGVkU25ha2UgPSBpbmRleCAtIDE7XG4gIH07XG5cbiAgc3RhcnRHYW1lKCkge1xuICAgIHRoaXMuYm9hcmQucmVzZXRCb2FyZCgpO1xuXG4gICAgLy8gcG9wdWxhdGUgc25ha2VzXG4gICAgY29uc3Qgc25ha2VzOiBTbmFrZVtdID0gW107XG4gICAgY29uc3QgZm9vZDogQ29vcmRzW10gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYm9hcmQuc25ha2VDb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBjb29yZHMgPSBnZXRTdGFydGluZ0Nvb3Jkcyh0aGlzLmJvYXJkLnNuYWtlQ291bnQsIGkpO1xuICAgICAgc25ha2VzLnB1c2gobmV3IFNuYWtlKGNvb3JkcykpO1xuXG5cbiAgICAgIC8vIFRPRE86IGV4Y2x1ZGUgc25ha2VzIGFuZCB3YWxsc1xuICAgICAgY29uc3QgbmV3Rm9vZCA9IGdldFJhbmRvbUNvb3Jkcyh0aGlzLmJvYXJkLmJvdW5kcywgW10pO1xuICAgICAgZm9vZC5wdXNoKG5ld0Zvb2QpO1xuICAgIH1cblxuICAgIHRoaXMuYm9hcmQuc25ha2VzID0gc25ha2VzO1xuICAgIHRoaXMuYm9hcmQuZm9vZCA9IGZvb2Q7XG5cbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMuaXNHYW1lUGxheWluZyA9IHRydWU7XG4gIH1cblxuICBzdG9wR2FtZSgpIHtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmludGVydmFsSWQudmFsdWUpO1xuICAgIC8vIFRPRE86IHRha2UoMSlcbiAgICB0aGlzLmJvYXJkLmRlYXRoUmVhc29uJC5waXBlKCkuc3Vic2NyaWJlKChyZWFzb246IEdhbWVPdmVyKSA9PiB7XG4gICAgICBpZiAoIXJlYXNvbikgcmV0dXJuO1xuICAgICAgdGhpcy5kaWFsb2cuc2V0RGlhbG9nU3RhdGUoXG4gICAgICAgICAgRGlhbG9nU3RhdGUuR0FNRV9PVkVSLCB0aGlzLmdldEdhbWVPdmVyTWVzc2FnZShyZWFzb24pKTtcbiAgICB9KTtcblxuICAgIC8vIFRPRE86IGRpc2FibGUgd2FsbCAvIHBhdXNlXG4gIH1cblxuICBwYXVzZUdhbWUoaXNQYXVzaW5nID0gdHJ1ZSkge1xuICAgIGlmIChpc1BhdXNpbmcpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuaW50ZXJ2YWxJZC52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICAgIHRoaXMuaXNHYW1lUGxheWluZyA9ICF0aGlzLmlzR2FtZVBsYXlpbmc7XG4gIH1cblxuICByZW5kZXIocmVuZGVyV2FsbE9ubHkgPSBmYWxzZSkge1xuICAgIC8vIGNhbGxlZCBpbnRlcnZhbC1seVxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHJlcXVlc3RJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuYm9hcmQuY2FuUHJvY2VlZCgpKSB7XG4gICAgICAgIHRoaXMuc3RvcEdhbWUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRyYXdBbGwoKTtcblxuICAgICAgaWYgKHJlbmRlcldhbGxPbmx5KSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGhhc0VhdGVuID0gdGhpcy5ib2FyZC50aWNrKCk7XG4gICAgICBpZiAoaGFzRWF0ZW4pIHtcbiAgICAgICAgdGhpcy5lYXRDb3VudCsrO1xuICAgICAgICB0aGlzLmZvb2RJbmZvLmlubmVyVGV4dCA9IHRoaXMuZWF0Q291bnQudG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9LCBJTlRFUlZBTCwgKCkgPT4gdGhpcy5kcmF3QWxsKCkpO1xuICB9O1xuXG4gIHByaXZhdGUgZHJhd0FsbCgpIHtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgdGhpcy5kcmF3R3JpZCgpO1xuICAgIHRoaXMuZHJhd1dhbGwoKTtcbiAgICB0aGlzLmRyYXdGb29kKCk7XG4gICAgdGhpcy5ib2FyZC5zbmFrZXMuZm9yRWFjaCgoc25ha2UsIHNuYWtlSW5kZXgpID0+IHtcbiAgICAgIHRoaXMuZHJhd1NuYWtlKHNuYWtlLCBzbmFrZUluZGV4KTtcbiAgICB9KTtcbiAgICB0aGlzLndhbGxJbmZvLmlubmVyVGV4dCA9IHRoaXMuYm9hcmQud2FsbC5sZW5ndGgudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0dyaWQoKSB7XG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBDb2xvci5HUklEO1xuXG4gICAgLy8gVmVydGljYWwgbGluZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLmJvYXJkLndpZHRoOyBpKyspIHtcbiAgICAgIHRoaXMuY3R4Lm1vdmVUbyhpICogKEJMT0NLX1NJWkUgKyAxKSArIDEsIDApO1xuICAgICAgdGhpcy5jdHgubGluZVRvKFxuICAgICAgICAgIGkgKiAoQkxPQ0tfU0laRSArIDEpICsgMSwgKEJMT0NLX1NJWkUgKyAxKSAqIHRoaXMuYm9hcmQuaGVpZ2h0ICsgMSk7XG4gICAgfVxuXG4gICAgLy8gSG9yaXpvbnRhbCBsaW5lc1xuICAgIGZvciAobGV0IGogPSAwOyBqIDw9IHRoaXMuYm9hcmQuaGVpZ2h0OyBqKyspIHtcbiAgICAgIHRoaXMuY3R4Lm1vdmVUbygwLCBqICogKEJMT0NLX1NJWkUgKyAxKSArIDEpO1xuICAgICAgdGhpcy5jdHgubGluZVRvKFxuICAgICAgICAgIChCTE9DS19TSVpFICsgMSkgKiB0aGlzLmJvYXJkLndpZHRoICsgMSwgaiAqIChCTE9DS19TSVpFICsgMSkgKyAxKTtcbiAgICB9XG5cbiAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd1dhbGwoKSB7XG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBDb2xvci5XQUxMO1xuICAgIHRoaXMuYm9hcmQud2FsbC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSA3O1xuICAgICAgLy8gJysnIHNoYXBlXG4gICAgICAvLyB0aGlzLmN0eC5tb3ZlVG8oXG4gICAgICAvLyAgICAgaXRlbS54ICogKEJMT0NLX1NJWkUgKyAxKSArIDEsXG4gICAgICAvLyAgICAgaXRlbS55ICogKEJMT0NLX1NJWkUgKyAxKSArIDEgKyBCTE9DS19TSVpFIC8gMik7XG4gICAgICAvLyB0aGlzLmN0eC5saW5lVG8oXG4gICAgICAvLyAgICAgaXRlbS54ICogKEJMT0NLX1NJWkUgKyAxKSArIDEgKyBCTE9DS19TSVpFLFxuICAgICAgLy8gICAgIGl0ZW0ueSAqIChCTE9DS19TSVpFICsgMSkgKyAxICsgQkxPQ0tfU0laRSAvIDIpO1xuICAgICAgLy8gdGhpcy5jdHgubW92ZVRvKFxuICAgICAgLy8gICAgIGl0ZW0ueCAqIChCTE9DS19TSVpFICsgMSkgKyAxICsgQkxPQ0tfU0laRSAvIDIsXG4gICAgICAvLyAgICAgaXRlbS55ICogKEJMT0NLX1NJWkUgKyAxKSArIDEpO1xuICAgICAgLy8gdGhpcy5jdHgubGluZVRvKFxuICAgICAgLy8gICAgIGl0ZW0ueCAqIChCTE9DS19TSVpFICsgMSkgKyAxICsgQkxPQ0tfU0laRSAvIDIsXG4gICAgICAvLyAgICAgaXRlbS55ICogKEJMT0NLX1NJWkUgKyAxKSArIEJMT0NLX1NJWkUgKyAxKTtcblxuXG4gICAgICAvLyAneCcgc2hhcGVcbiAgICAgIHRoaXMuY3R4Lm1vdmVUbyhcbiAgICAgICAgICBpdGVtLnggKiAoQkxPQ0tfU0laRSArIDEpICsgMSwgaXRlbS55ICogKEJMT0NLX1NJWkUgKyAxKSArIDEpO1xuICAgICAgdGhpcy5jdHgubGluZVRvKFxuICAgICAgICAgIGl0ZW0ueCAqIChCTE9DS19TSVpFICsgMSkgKyAxICsgQkxPQ0tfU0laRSxcbiAgICAgICAgICBpdGVtLnkgKiAoQkxPQ0tfU0laRSArIDEpICsgMSArIEJMT0NLX1NJWkUpO1xuICAgICAgdGhpcy5jdHgubW92ZVRvKFxuICAgICAgICAgIGl0ZW0ueCAqIChCTE9DS19TSVpFICsgMSkgKyAxLFxuICAgICAgICAgIGl0ZW0ueSAqIChCTE9DS19TSVpFICsgMSkgKyBCTE9DS19TSVpFICsgMSk7XG4gICAgICB0aGlzLmN0eC5saW5lVG8oXG4gICAgICAgICAgaXRlbS54ICogKEJMT0NLX1NJWkUgKyAxKSArIDEgKyBCTE9DS19TSVpFLFxuICAgICAgICAgIGl0ZW0ueSAqIChCTE9DS19TSVpFICsgMSkgKyAxKTtcbiAgICB9KTtcbiAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAxO1xuICB9XG5cbiAgLy8gdG8gbWFrZSBpdCBzbW9vdGgsIGl0IGp1c3QgbmVlZHMgdG8gYmUgZ3JhbnVsYXIgYW5kIG5vdCBmaXhlZCBieSBibG9jay5cbiAgcHJpdmF0ZSBkcmF3U25ha2Uoc25ha2U6IFNuYWtlLCBzbmFrZUluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCB7eCwgeX0gPSBzbmFrZS5oZWFkO1xuICAgIGNvbnN0IFBBRERJTkcgPSA0O1xuICAgIGNvbnN0IGlzU25ha2VTZWxlY3RlZCA9IHNuYWtlSW5kZXggPT09IHRoaXMuYm9hcmQuc2VsZWN0ZWRTbmFrZTtcblxuICAgIC8vIEZpbGwgYm9keVxuICAgIGNvbnN0IHBhdHRlcm4gPSBTTkFLRVMuZmluZChzID0+IHMudHlwZSA9PT0gdGhpcy5ib2FyZC5zbmFrZVR5cGUpLnBhdHRlcm47XG4gICAgY29uc3QgZnVsbFBhdHRlcm4gPSBnZXRGdWxsUGF0dGVybihwYXR0ZXJuLCBzbmFrZS5zZXF1ZW5jZS5sZW5ndGgpXG4gICAgc25ha2Uuc2VxdWVuY2UuZm9yRWFjaCgoY29vcmRzLCBpbmRleCkgPT4ge1xuICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gZnVsbFBhdHRlcm5baW5kZXhdO1xuICAgICAgdGhpcy5jdHguZmlsbFJlY3QoXG4gICAgICAgICAgY29vcmRzLnggKiAoQkxPQ0tfU0laRSArIDEpICsgMSwgY29vcmRzLnkgKiAoQkxPQ0tfU0laRSArIDEpICsgMSxcbiAgICAgICAgICBCTE9DS19TSVpFLCBCTE9DS19TSVpFKTtcbiAgICB9KTtcblxuICAgIC8vIEZpbGwgaGVhZFxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9XG4gICAgICAgIGlzU25ha2VTZWxlY3RlZCA/IENvbG9yLlNOQUtFX0hFQURfU0VMRUNURUQgOiBDb2xvci5TTkFLRV9IRUFEO1xuICAgIHRoaXMuY3R4LmZpbGxSZWN0KFxuICAgICAgICB4ICogKEJMT0NLX1NJWkUgKyAxKSArIDEsIHkgKiAoQkxPQ0tfU0laRSArIDEpICsgMSwgQkxPQ0tfU0laRSxcbiAgICAgICAgQkxPQ0tfU0laRSk7XG5cbiAgICAvLyBGaWxsIG51bWJlclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGlzU25ha2VTZWxlY3RlZCA/IENvbG9yLlNOQUtFX0hFQURfVEVYVF9TRUxFQ1RFRCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3IuU05BS0VfSEVBRF9URVhUO1xuICAgIHRoaXMuY3R4LmZvbnQgPSAnMjNweCBcIlZUMzIzXCInO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxuICAgICAgICAoc25ha2VJbmRleCArIDEpLnRvU3RyaW5nKCksXG4gICAgICAgIHggKiAoQkxPQ0tfU0laRSArIDEpICsgMiArIFBBRERJTkcsXG4gICAgICAgICh5ICsgMSkgKiAoQkxPQ0tfU0laRSArIDEpICsgMSAtIFBBRERJTkcsXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0Zvb2QoKSB7XG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gQ29sb3IuRk9PRDtcbiAgICB0aGlzLmJvYXJkLmZvb2QuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2VudGVyWCA9IGl0ZW0ueCAqIChCTE9DS19TSVpFICsgMSkgKyAxICsgQkxPQ0tfU0laRSAvIDI7XG4gICAgICBjb25zdCBjZW50ZXJZID0gaXRlbS55ICogKEJMT0NLX1NJWkUgKyAxKSArIDEgKyBCTE9DS19TSVpFIC8gMjtcbiAgICAgIHRoaXMuY3R4LmFyYyhjZW50ZXJYLCBjZW50ZXJZLCBCTE9DS19TSVpFIC8gMiwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRHYW1lT3Zlck1lc3NhZ2UoZ2FtZU92ZXI6IEdhbWVPdmVyKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKGdhbWVPdmVyKSB7XG4gICAgICBjYXNlIEdhbWVPdmVyLkhJVF9TRUxGOlxuICAgICAgICByZXR1cm4gJ1lvdSBoYXZlIGhpdCB5b3Vyc2VsZi4nO1xuICAgICAgY2FzZSBHYW1lT3Zlci5ISVRfV0FMTDpcbiAgICAgICAgcmV0dXJuICdZb3UgaGF2ZSBoaXQgYSB3YWxsLic7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ01heWJlIHlvdSBjYW5ub3QgaGFuZGxlIHRoaXMuJztcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7Q29vcmRzLCBEaXJlY3Rpb24sIElOSVRfU05BS0VfU0laRX0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7Z2V0TmV4dENvb3JkcywgaXNEaXJlY3Rpb25PcHBvc2l0ZX0gZnJvbSAnLi4vaGVscGVycyc7XG5cbmV4cG9ydCBjbGFzcyBTbmFrZSB7XG4gIHNlcXVlbmNlOiBDb29yZHNbXSA9IFtdO1xuICBkaXJlY3Rpb24gPSBEaXJlY3Rpb24uUklHSFQ7XG5cbiAgY29uc3RydWN0b3Ioc3RhcnQ6IENvb3Jkcykge1xuICAgIGxldCBjb3VudCA9IElOSVRfU05BS0VfU0laRTtcbiAgICB0aGlzLnNlcXVlbmNlLnB1c2goc3RhcnQpO1xuXG4gICAgd2hpbGUgKGNvdW50ID4gMCkge1xuICAgICAgY29uc3QgbmV4dCA9IGdldE5leHRDb29yZHMoXG4gICAgICAgICAgdGhpcy5zZXF1ZW5jZVt0aGlzLnNlcXVlbmNlLmxlbmd0aCAtIDFdLCBEaXJlY3Rpb24uTEVGVCk7XG4gICAgICB0aGlzLnNlcXVlbmNlLnB1c2gobmV4dCk7XG4gICAgICBjb3VudC0tO1xuICAgIH1cbiAgfVxuXG4gIGdldCBoZWFkKCk6IENvb3JkcyB7XG4gICAgcmV0dXJuIHRoaXMuc2VxdWVuY2VbMF07XG4gIH1cblxuICBnZXQgbmV3SGVhZCgpOiBDb29yZHMge1xuICAgIHJldHVybiBnZXROZXh0Q29vcmRzKHRoaXMuc2VxdWVuY2VbMF0sIHRoaXMuZGlyZWN0aW9uKTtcbiAgfVxuXG4gIHNldERpcmVjdGlvbihkaXJlY3Rpb246IERpcmVjdGlvbikge1xuICAgIGlmIChpc0RpcmVjdGlvbk9wcG9zaXRlKGRpcmVjdGlvbiwgdGhpcy5kaXJlY3Rpb24pKSByZXR1cm47XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gIH1cblxuICBncm93KCkge1xuICAgIGNvbnN0IG5leHQgPVxuICAgICAgICBnZXROZXh0Q29vcmRzKHRoaXMuc2VxdWVuY2VbdGhpcy5zZXF1ZW5jZS5sZW5ndGggLSAxXSwgdGhpcy5kaXJlY3Rpb24pO1xuICAgIHRoaXMuc2VxdWVuY2UucHVzaChuZXh0KTtcbiAgfVxuXG4gIHN0ZXAoKSB7XG4gICAgdGhpcy5zZXF1ZW5jZS5wb3AoKTtcbiAgICB0aGlzLnNlcXVlbmNlLnVuc2hpZnQodGhpcy5uZXdIZWFkKTtcbiAgfVxufSIsImltcG9ydCB7Qk9BUkRfSEVJR0hULCBCT0FSRF9XSURUSCwgQ29vcmRzLCBEaXJlY3Rpb259IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXJ0aW5nQ29vcmRzKHNuYWtlQ291bnQ6IG51bWJlciwgaW5kZXg6IG51bWJlcikge1xuICByZXR1cm4ge1xuICAgIHg6IE1hdGguZmxvb3IoKEJPQVJEX1dJRFRIIC8gKHNuYWtlQ291bnQgKyAxKSkgKiAoaW5kZXggKyAxKSksXG4gICAgeTogTWF0aC5mbG9vcigoQk9BUkRfSEVJR0hUIC8gKHNuYWtlQ291bnQgKyAxKSkgKiAoaW5kZXggKyAxKSksXG4gIH07XG59XG5cbi8vIFRPRE86IGV4Y2x1ZGUgYXJyYXkgb2YgY29vcmRzXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tQ29vcmRzKFxuICAgIGJvdW5kczogQ29vcmRzLCBleGNsdWRlQXJyYXk6IENvb3Jkc1tdKTogQ29vcmRzIHtcbiAgbGV0IHJhbmRvbUNvb3JkcyA9IHtcbiAgICB4OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBib3VuZHMueCksXG4gICAgeTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYm91bmRzLnkpLFxuICB9O1xuICB3aGlsZSAoZXhjbHVkZUFycmF5LmZpbmQoXG4gICAgICBjb29yZHMgPT4gY29vcmRzLnggPT09IHJhbmRvbUNvb3Jkcy54ICYmIGNvb3Jkcy55ID09PSByYW5kb21Db29yZHMueSkpIHtcbiAgICByYW5kb21Db29yZHMgPSB7XG4gICAgICB4OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBib3VuZHMueCksXG4gICAgICB5OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBib3VuZHMueSksXG4gICAgfTtcbiAgfVxuICByZXR1cm4gcmFuZG9tQ29vcmRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV4dENvb3Jkcyhjb29yZHM6IENvb3JkcywgZGlyZWN0aW9uOiBEaXJlY3Rpb24pOiBDb29yZHMge1xuICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgIGNhc2UgRGlyZWN0aW9uLlVQOlxuICAgICAgcmV0dXJuIHsuLi5jb29yZHMsIHk6IGNvb3Jkcy55IC0gMX07XG4gICAgY2FzZSBEaXJlY3Rpb24uRE9XTjpcbiAgICAgIHJldHVybiB7Li4uY29vcmRzLCB5OiBjb29yZHMueSArIDF9O1xuICAgIGNhc2UgRGlyZWN0aW9uLkxFRlQ6XG4gICAgICByZXR1cm4gey4uLmNvb3JkcywgeDogY29vcmRzLnggLSAxfTtcbiAgICBjYXNlIERpcmVjdGlvbi5SSUdIVDpcbiAgICAgIHJldHVybiB7Li4uY29vcmRzLCB4OiBjb29yZHMueCArIDF9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gey4uLmNvb3JkcywgeDogY29vcmRzLnggKyAxfTtcbiAgfVxufVxuXG5jb25zdCBvcHBvc2l0ZURpcmVjdGlvbnMgPSB7XG4gIFtEaXJlY3Rpb24uVVBdOiBEaXJlY3Rpb24uRE9XTixcbiAgW0RpcmVjdGlvbi5ET1dOXTogRGlyZWN0aW9uLlVQLFxuICBbRGlyZWN0aW9uLkxFRlRdOiBEaXJlY3Rpb24uUklHSFQsXG4gIFtEaXJlY3Rpb24uUklHSFRdOiBEaXJlY3Rpb24uTEVGVCxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RpcmVjdGlvbk9wcG9zaXRlKFxuICAgIG9yaWdpbmFsOiBEaXJlY3Rpb24sIGNoYW5nZWQ6IERpcmVjdGlvbik6IGJvb2xlYW4ge1xuICBpZiAob3Bwb3NpdGVEaXJlY3Rpb25zW29yaWdpbmFsXSA9PT0gY2hhbmdlZCkgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gZm4yIGlzIGZvciBldmVyeSBmcmFtZVxuZXhwb3J0IGNvbnN0IHJlcXVlc3RJbnRlcnZhbCA9IGZ1bmN0aW9uKGZuOiBhbnksIGRlbGF5OiBudW1iZXIsIGZuMjogYW55KSB7XG4gIGxldCBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBjb25zdCBoYW5kbGUgPSB7dmFsdWU6IDB9O1xuXG4gIGZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgY29uc29sZS5sb2coJ1tERVZdIGxvb3AnKTtcbiAgICBoYW5kbGUudmFsdWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgIGNvbnN0IGN1cnJlbnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBjb25zdCBkZWx0YSA9IGN1cnJlbnQgLSBzdGFydDtcbiAgICBmbjIgJiYgZm4yLmNhbGwoKTtcblxuICAgIGlmIChkZWx0YSA+PSBkZWxheSkge1xuICAgICAgZm4uY2FsbCgpO1xuICAgICAgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlLnZhbHVlID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcblxuICByZXR1cm4gaGFuZGxlO1xufTtcblxuLyoqIFJlcGVhdHMgdGhlIHBhdHRlcm4gc2VnbWVudHMgdGlsbCB0aGUgYXJyYXkgc2l6ZSByZWFjaGVzIHRoZSBsaW1pdC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGdWxsUGF0dGVybihwYXR0ZXJuOiBzdHJpbmdbXSwgbGltaXQ6IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgbGV0IGZ1bGxQYXR0ZXJuID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGltaXQ7IGkrKykge1xuICAgIGZ1bGxQYXR0ZXJuLnB1c2gocGF0dGVybltpICUgcGF0dGVybi5sZW5ndGhdKTtcbiAgfVxuICByZXR1cm4gZnVsbFBhdHRlcm47XG59IiwiaW1wb3J0ICcuL3N0eWxlcy9tYWluLnNjc3MnO1xuXG5pbXBvcnQge0JMT0NLX1NJWkUsIEJPQVJEX0hFSUdIVCwgQk9BUkRfV0lEVEgsIERFRkFVTFRfR0FNRV9DT05GSUcsIEdhbWVDb25maWcsIFNuYWtlVHlwZX0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHtQYWdlfSBmcm9tICcuL2dhbWUvZ2FtZSc7XG5pbXBvcnQge0RpYWxvZ1N0YXRlfSBmcm9tICcuL3VpL2RpYWxvZyc7XG5cbmVudW0gU2VsZWN0b3Ige1xuICBDT1VOVF9DT05UQUlORVIgPSAnY291bnQtY29udGFpbmVyJyxcbiAgU0VMRUNURUQgPSAnc2VsZWN0ZWQnLFxufVxuXG5jbGFzcyBJbmRleCB7XG4gIHByaXZhdGUgaXNEZWJ1Z01vZGUgPSB0aGlzLmdldERlYnVnTW9kZSgpO1xuICBwcml2YXRlIGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xuICBwYWdlID0gbmV3IFBhZ2UodGhpcy5jYW52YXMpO1xuICBkaWFsb2cgPSB0aGlzLnBhZ2UuZGlhbG9nO1xuXG4gIHJlc3RhcnRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uLnJlc3RhcnQnKTtcbiAgcGF1c2VCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uLnBhdXNlJyk7XG4gIHBlbmNpbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24ucGVuY2lsJyk7XG4gIGVyYXNlckJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24uZXJhc2VyJyk7XG5cbiAgLyoqIFNob3VsZCBpdCByZWNvcmQgbW91c2UgbW92ZW1lbnQgZm9yIHdhbGxzICovXG4gIHNob3VsZFJlY29yZCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW5pdENhbnZhcygpO1xuICAgIHRoaXMuYWRkTGlzdGVuZXJzKCk7XG4gICAgdGhpcy51cGRhdGVTZWxlY3RlZENvbmZpZygpO1xuICAgIHRoaXMuZW5hYmxlRGVidWdNb2RlKCk7XG4gIH1cblxuICBwcml2YXRlIGVuYWJsZURlYnVnTW9kZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNEZWJ1Z01vZGUpIHJldHVybjtcblxuICAgIGNvbnNvbGUubG9nKCdbREVWXSBlbmFibGVEZWJ1Z01vZGUnKTtcbiAgICBjb25zdCBncmlkUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZ3JpZFJvdy5jbGFzc0xpc3QuYWRkKCdkZWJ1ZycpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBCT0FSRF9XSURUSDsgaSsrKSB7XG4gICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgc3Bhbi5pbm5lclRleHQgPSBTdHJpbmcoaSArIDEpO1xuICAgICAgZ3JpZFJvdy5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICB9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLnByZXBlbmQoZ3JpZFJvdyk7XG4gIH1cblxuICBwcml2YXRlIGdldERlYnVnTW9kZSgpIHtcbiAgICB2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXModXJsLnNlYXJjaCk7XG4gICAgcmV0dXJuIHBhcmFtcy5nZXQoJ2RlYnVnJyk7XG4gIH1cblxuICBpbml0Q2FudmFzKCkge1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IChCTE9DS19TSVpFICsgMSkgKiBCT0FSRF9IRUlHSFQgKyAxO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gKEJMT0NLX1NJWkUgKyAxKSAqIEJPQVJEX1dJRFRIICsgMTtcbiAgfVxuXG4gIC8vIHNlcGFyYXRlIHNuYWtlIGNvdW50IGFuZCB0eXBlXG4gIHVwZGF0ZVNlbGVjdGVkQ29uZmlnKCkge1xuICAgIHRoaXMuZGlhbG9nLmNvdW50QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGlmICh0aGlzLnBhZ2UuYm9hcmQuc25ha2VDb3VudCA9PT0gTnVtYmVyKGJ1dHRvbi5kYXRhc2V0LmNvdW50KSkge1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChgJHtTZWxlY3Rvci5TRUxFQ1RFRH1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKGAke1NlbGVjdG9yLlNFTEVDVEVEfWApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5kaWFsb2cudHlwZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBpZiAodGhpcy5wYWdlLmJvYXJkLnNuYWtlVHlwZSA9PT0gYnV0dG9uLmRhdGFzZXQudHlwZSkge1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChgJHtTZWxlY3Rvci5TRUxFQ1RFRH1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKGAke1NlbGVjdG9yLlNFTEVDVEVEfWApO1xuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBtb3VzZURvd25MaXN0ZW5lciA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgIGlmICgoZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS50YWdOYW1lICE9PSAnQ0FOVkFTJykgcmV0dXJuO1xuICAgIHRoaXMuc2hvdWxkUmVjb3JkID0gdHJ1ZTtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInO1xuXG4gICAgLy8gb25seSBpZiB0aGUgcmVuZGVyaW5nIGlzbid0IG9uXG4gICAgaWYgKCF0aGlzLnBhZ2UuaXNHYW1lUGxheWluZykge1xuICAgICAgdGhpcy5wYWdlLnJlbmRlcih0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgbW91c2VVcExpc3RlbmVyID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgaWYgKChldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnRhZ05hbWUgIT09ICdDQU5WQVMnKSByZXR1cm47XG4gICAgdGhpcy5zaG91bGRSZWNvcmQgPSBmYWxzZTtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcblxuICAgIC8vIG9ubHkgaWYgdGhlIHJlbmRlcmluZyBpc24ndCBvblxuICAgIGlmICghdGhpcy5wYWdlLmlzR2FtZVBsYXlpbmcpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucGFnZS5pbnRlcnZhbElkLnZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgcGVuY2lsTW91c2VNb3ZlTGlzdGVuZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBpZiAoIXRoaXMuc2hvdWxkUmVjb3JkKSByZXR1cm47XG4gICAgY29uc3QgW25vcm1hbGlzZWRYLCBub3JtYWxpc2VkWV0gPSB0aGlzLmdldE5vcm1hbGlzZWRYWShldmVudCk7XG4gICAgdGhpcy5wYWdlLmJvYXJkLnNldFdhbGxzKG5vcm1hbGlzZWRYLCBub3JtYWxpc2VkWSk7XG4gIH07XG5cbiAgZXJhc2VyTW91c2VNb3ZlTGlzdGVuZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBpZiAoIXRoaXMuc2hvdWxkUmVjb3JkKSByZXR1cm47XG4gICAgY29uc3QgW25vcm1hbGlzZWRYLCBub3JtYWxpc2VkWV0gPSB0aGlzLmdldE5vcm1hbGlzZWRYWShldmVudCk7XG4gICAgdGhpcy5wYWdlLmJvYXJkLnJlbW92ZVdhbGxzKG5vcm1hbGlzZWRYLCBub3JtYWxpc2VkWSk7XG4gIH07XG5cbiAgYWRkU2hvdWxkUmVjb3JkTGlzdGVuZXJzKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdXNlRG93bkxpc3RlbmVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMubW91c2VVcExpc3RlbmVyKTtcbiAgfVxuXG4gIHJlbW92ZU1vdXNlVXBEb3duTGlzdG5lcnMoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMubW91c2VEb3duTGlzdGVuZXIpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZVVwTGlzdGVuZXIpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLnBlbmNpbE1vdXNlTW92ZUxpc3RlbmVyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5lcmFzZXJNb3VzZU1vdmVMaXN0ZW5lcik7XG4gIH1cblxuICBnZXROb3JtYWxpc2VkWFkoZXZlbnQ6IE1vdXNlRXZlbnQpOiBudW1iZXJbXSB7XG4gICAgY29uc3Qge3BhZ2VYLCBwYWdlWX0gPSBldmVudDtcbiAgICBjb25zdCB7bGVmdCwgdG9wfSA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGwgPSBwYWdlWCAtIGxlZnQ7XG4gICAgY29uc3QgciA9IHBhZ2VZIC0gdG9wO1xuXG4gICAgY29uc3Qgbm9ybWFsaXNlZFggPSBNYXRoLmZsb29yKGwgLyAoQkxPQ0tfU0laRSArIDEpKTtcbiAgICBjb25zdCBub3JtYWxpc2VkWSA9IE1hdGguZmxvb3IociAvIChCTE9DS19TSVpFICsgMSkpO1xuICAgIHJldHVybiBbbm9ybWFsaXNlZFgsIG5vcm1hbGlzZWRZXVxuICB9XG5cbiAgYWRkTGlzdGVuZXJzKCkge1xuICAgIC8vIHNuYWtlIGNvdW50IGxpc3RlbmVyXG4gICAgdGhpcy5kaWFsb2cuY291bnRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnBhZ2UuYm9hcmQuc2V0U25ha2VDb3VudChOdW1iZXIoYnV0dG9uLmRhdGFzZXQuY291bnQpKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkQ29uZmlnKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIHNuYWtlIHR5cGUgbGlzdGVuZXJcbiAgICB0aGlzLmRpYWxvZy50eXBlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5wYWdlLmJvYXJkLnNldFNuYWtlVHlwZShidXR0b24uZGF0YXNldC50eXBlIGFzIFNuYWtlVHlwZSk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZENvbmZpZygpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmRpYWxvZy5zdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgKGV2ZW50LnRhcmdldCBhcyBIVE1MQnV0dG9uRWxlbWVudCkuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIHRoaXMucGFnZS5zdGFydEdhbWUoKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmRpYWxvZy5zZXREaWFsb2dTdGF0ZShEaWFsb2dTdGF0ZS5ISURERU4pO1xuICAgICAgfSwgMjAwKTtcbiAgICB9KTtcblxuICAgIHRoaXMucmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgLy8gVE9ETzogZGlzYWJsZSBhbGwgYnV0dG9ucyBleGNlcHQgc291bmQgYW5kIHJlc3RhcnRcbiAgICAgIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKV0uZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdidXR0b24nLCBidXR0b24pO1xuICAgICAgfSk7XG5cbiAgICAgIChldmVudC50YXJnZXQgYXMgSFRNTEJ1dHRvbkVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICB0aGlzLmRpYWxvZy5zdGFydEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgdGhpcy5wZW5jaWxCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIHRoaXMuZXJhc2VyQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnJlc3RhcnRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgdGhpcy5wYWdlLmJvYXJkLnJlc2V0Qm9hcmQoKTtcbiAgICAgICAgdGhpcy5wYWdlLmRpYWxvZy5zZXREaWFsb2dTdGF0ZShEaWFsb2dTdGF0ZS5HQU1FX0NPTkZJRyk7XG4gICAgICB9LCAyMDApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wYXVzZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgaXNQYXVzaW5nID0gdGhpcy5wYXVzZUJ1dHRvbi5pbm5lclRleHQgPT09ICdQYXVzZSc7XG4gICAgICB0aGlzLnBhZ2UucGF1c2VHYW1lKGlzUGF1c2luZyk7XG4gICAgICB0aGlzLmZsaXBQYXVzZUJ1dHRvbnMoaXNQYXVzaW5nLCBldmVudC50YXJnZXQgYXMgSFRNTEJ1dHRvbkVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wZW5jaWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlTW91c2VVcERvd25MaXN0bmVycygpO1xuXG4gICAgICAoZXZlbnQudGFyZ2V0IGFzIEhUTUxCdXR0b25FbGVtZW50KS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpO1xuICAgICAgaWYgKHRoaXMuZXJhc2VyQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICB0aGlzLmVyYXNlckJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgfVxuICAgICAgdGhpcy5hZGRTaG91bGRSZWNvcmRMaXN0ZW5lcnMoKTtcbiAgICAgIC8vIEFkZCB0aHJvdHRsZVxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMucGVuY2lsTW91c2VNb3ZlTGlzdGVuZXIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lcmFzZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlTW91c2VVcERvd25MaXN0bmVycygpO1xuXG4gICAgICAoZXZlbnQudGFyZ2V0IGFzIEhUTUxCdXR0b25FbGVtZW50KS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpO1xuICAgICAgaWYgKHRoaXMucGVuY2lsQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICB0aGlzLnBlbmNpbEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgfVxuICAgICAgdGhpcy5hZGRTaG91bGRSZWNvcmRMaXN0ZW5lcnMoKTtcblxuICAgICAgLy8gQWRkIHRocm90dGxlXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5lcmFzZXJNb3VzZU1vdmVMaXN0ZW5lcik7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4gdGhpcy5wYWdlLm9uS2V5RG93bihldmVudCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBmbGlwUGF1c2VCdXR0b25zKGlzUGF1c2luZyA9IHRydWUsIGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQpIHtcbiAgICBjb25zdCB0ZXh0ID0gaXNQYXVzaW5nID8gJ1Jlc3VtZScgOiAnUGF1c2UnO1xuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnBhdXNlQnV0dG9uLmlubmVyVGV4dCA9IHRleHQ7XG4gICAgICB0aGlzLnBhdXNlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ3BhdXNlJyk7XG4gICAgICB0aGlzLnBhdXNlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ3Jlc3VtZScpO1xuXG4gICAgICBpZiAoIWlzUGF1c2luZykge1xuICAgICAgICB0aGlzLnBlbmNpbEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICB0aGlzLmVyYXNlckJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICB9LCAxMDApO1xuICAgIH0sIDIwMCk7XG4gIH1cbn1cblxubmV3IEluZGV4KCk7IiwiaW1wb3J0IHtCZWhhdmlvclN1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtTTkFLRVN9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQge2dldEZ1bGxQYXR0ZXJufSBmcm9tICcuLi9oZWxwZXJzJztcblxuLy8gVE9ETzogcmVuYW1lIHRvIGdhbWUgc3RhdGUgYW5kIHVzZSBpdCBmb3IgZGlzYWJsaW5nIHRoZSBidXR0b25zXG5leHBvcnQgZW51bSBEaWFsb2dTdGF0ZSB7XG4gIEdBTUVfQ09ORklHID0gMSxcbiAgSElEREVOLFxuICBHQU1FX09WRVIsXG59XG5cbmV4cG9ydCBjbGFzcyBEaWFsb2cge1xuICBwcml2YXRlIGRpYWxvZ1N0YXRlJCA9IG5ldyBCZWhhdmlvclN1YmplY3QoRGlhbG9nU3RhdGUuR0FNRV9DT05GSUcpO1xuXG4gIGRpYWxvZ0VsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpYWxvZycpITtcbiAgc3RhcnRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xuICBjb3VudEJ1dHRvbnM6IEhUTUxCdXR0b25FbGVtZW50W107XG4gIHR5cGVCdXR0b25zOiBIVE1MQnV0dG9uRWxlbWVudFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGlhbG9nRWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmdldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5zdGFydEJ1dHRvbiA9IHRoaXMuZGlhbG9nRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24uc3RhcnQnKTtcbiAgICB0aGlzLmNvdW50QnV0dG9ucyA9XG4gICAgICAgIFsuLi50aGlzLmRpYWxvZ0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uLmNvdW50JyldIGFzXG4gICAgICAgIEhUTUxCdXR0b25FbGVtZW50W107XG4gICAgdGhpcy50eXBlQnV0dG9ucyA9XG4gICAgICAgIFsuLi50aGlzLmRpYWxvZ0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uLnR5cGUnKV0gYXNcbiAgICAgICAgSFRNTEJ1dHRvbkVsZW1lbnRbXTtcblxuICAgIHRoaXMuZGlhbG9nU3RhdGUkLnN1YnNjcmliZSgoc3RhdGU6IERpYWxvZ1N0YXRlKSA9PiB7XG4gICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgIGNhc2UgRGlhbG9nU3RhdGUuSElEREVOOlxuICAgICAgICAgIHRoaXMuZGlhbG9nRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0cmFuc2l0aW9uJyk7XG4gICAgICAgICAgdGhpcy5kaWFsb2dFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgRGlhbG9nU3RhdGUuR0FNRV9DT05GSUc6XG4gICAgICAgICAgdGhpcy5kaWFsb2dFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICAgICAgICB0aGlzLmRpYWxvZ0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZ2FtZW92ZXInKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgRGlhbG9nU3RhdGUuR0FNRV9PVkVSOlxuICAgICAgICAgIHRoaXMuZGlhbG9nRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gICAgICAgICAgdGhpcy5kaWFsb2dFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2dhbWVvdmVyJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgc2V0RGlhbG9nU3RhdGUoc3RhdGU6IERpYWxvZ1N0YXRlLCBnYW1lT3Zlck1lc3NhZ2UgPSAnJykge1xuICAgIGlmIChnYW1lT3Zlck1lc3NhZ2UpIHtcbiAgICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZScpIGFzIEhUTUxQYXJhZ3JhcGhFbGVtZW50KS5pbm5lclRleHQgPVxuICAgICAgICAgIGdhbWVPdmVyTWVzc2FnZTtcbiAgICB9XG4gICAgdGhpcy5kaWFsb2dTdGF0ZSQubmV4dChzdGF0ZSk7XG4gIH1cblxuICBnZXRTbmFrZXNUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gYFxuICAgICAgICAke1xuICAgICAgICBTTkFLRVNcbiAgICAgICAgICAgIC5tYXAoc25ha2UgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBwID0gZ2V0RnVsbFBhdHRlcm4oc25ha2UucGF0dGVybiwgOCk7XG4gICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25zID1cbiAgICAgICAgICAgICAgICAgIFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3XVxuICAgICAgICAgICAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0+IGA8c3BhbiBjbGFzcz1cInNlY3Rpb25cIiBzdHlsZT1cImJhY2tncm91bmQ6ICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwW2luZGV4XX1cIj48L3NwYW4+YClcbiAgICAgICAgICAgICAgICAgICAgICAuam9pbignJyk7XG4gICAgICAgICAgICAgIHJldHVybiBgPGJ1dHRvbiBjbGFzcz1cInR5cGVcIiBkYXRhLXR5cGU9XCIke3NuYWtlLnR5cGV9XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib2R5XCI+XG4gICAgICAgICAgICAgICAgJHtzZWN0aW9uc31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxoNSBjbGFzcz1cIm5hbWVcIj4ke3NuYWtlLnR5cGV9PC9oNT5cbiAgICAgICAgICAgIDwvYnV0dG9uPmBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbignJyl9XG4gICAgICBgO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJnYW1lb3Zlci1jb250YWluZXJcIj5cbiAgICAgICAgPGgxPiogR2FtZSBvdmVyICo8L2gxPlxuICAgICAgICA8cCBjbGFzcz1cIm1lc3NhZ2VcIj48L3A+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJyZXN0YXJ0XCI+UmVzdGFydDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29uZmlnLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidHlwZS1jb250YWluZXJcIj5cbiAgICAgICAgICA8aDEgY2xhc3M9XCJzdWJoZWFkZXJcIj5DaG9vc2UgeW91ciBzbmFrZXM8L2gxPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFkXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2Nyb2xsZXJcIj5cbiAgICAgICAgICAgICAgJHt0aGlzLmdldFNuYWtlc1RlbXBsYXRlKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvdW50LWNvbnRhaW5lclwiPlxuICAgICAgICA8aDEgY2xhc3M9XCJzdWJoZWFkZXJcIj5Ib3cgbWFueSBzbmFrZXMgY2FuIHlvdSBoYW5kbGU/PC9oMT5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvdW50XCIgZGF0YS1jb3VudD1cIjFcIiB0eXBlPVwiYnV0dG9uXCI+w5cgMTwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvdW50XCIgZGF0YS1jb3VudD1cIjJcIiB0eXBlPVwiYnV0dG9uXCI+w5cgMjwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvdW50XCIgZGF0YS1jb3VudD1cIjNcIiB0eXBlPVwiYnV0dG9uXCI+w5cgMzwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvdW50XCIgZGF0YS1jb3VudD1cIjRcIiB0eXBlPVwiYnV0dG9uXCI+w5cgNDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvdW50XCIgZGF0YS1jb3VudD1cIjVcIiB0eXBlPVwiYnV0dG9uXCI+w5cgNTwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInN0YXJ0XCIgdHlwZT1cImJ1dHRvblwiPlN0YXJ0IGdhbWU8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4vLyBUaGlzIGVudHJ5IG1vZHVsZSB1c2VkICdleHBvcnRzJyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDM0NCk7XG4iXSwic291cmNlUm9vdCI6IiJ9